"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits","ui_packages_user-selector_index_ts"],{11070:(e,t,n)=>{var i=n(56413),a=n(66144),r=n(74848),s=n(17908),o=n(46636),l=n(12152),d=n(86365),c=n(96540),m=n(38621),u=n(68593);function h(){return(0,r.jsx)("div",{children:(0,r.jsxs)(u.A,{border:!1,spacious:!1,children:[(0,r.jsx)(u.A.Visual,{children:(0,r.jsx)(m.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,r.jsx)(u.A.Heading,{children:"Unable to load page."}),(0,r.jsxs)(u.A.Description,{children:[(0,r.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,r.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,r.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,r.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})}try{h.displayName||(h.displayName="CommitErrorState")}catch{}function f(e){let t=(0,d.B)(),[n]=(0,c.useState)(t?.repo),[i]=(0,c.useState)(t?.currentUser);return(0,r.jsx)(l.t,{critical:!0,fallback:(0,r.jsx)(h,{}),children:(0,r.jsx)(o.Q,{user:i,children:(0,r.jsx)(s.d,{repository:n,children:e.children})})})}try{f.displayName||(f.displayName="App")}catch{}var p=n(92331),x=n(80934),g=n(86617),y=n(73974),v=n(4460),j=n(5796),C=n(79760),b=n(47584),w=n(11499),N=n(94232),_=n(87292),k=n(93653),S=n(34164),I=n(18312),T=n(6869),E=n(30729);function L(){return(0,r.jsxs)(T.A,{variant:"warning",className:"mb-4",children:[(0,r.jsx)(E.A,{icon:m.AlertIcon,className:"mr-2"}),(0,r.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{L.displayName||(L.displayName="SpoofedCommitWarningBanner")}catch{}var D=n(75177),A=n(74779);function R({oid:e,repo:t}){return(0,A.N)(e,t.id)?(0,r.jsxs)(T.A,{className:"mb-4",children:[(0,r.jsx)(D.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,r.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,r.jsx)("p",{children:"We will miss you."})]}):null}try{R.displayName||(R.displayName="WeirichCommitBanner")}catch{}function M({oid:e,repo:t,commitBranchState:n}){return(0,r.jsxs)(r.Fragment,{children:[n.loading||0!==n.branches.length?null:(0,r.jsx)(L,{}),(0,r.jsx)(R,{oid:e,repo:t})]})}try{M.displayName||(M.displayName="CommitBanners")}catch{}var P=n(41658),F=n(46309),O=n(46584),B=n(44968),$=n(32813),H=n(34407),U=n(36065),z=n(55847),V=n(34614),W=n(87330),G=n(47139),Q=n(94977),X=n(9916),q=n(95017),K=n(55833),Y=n(71238),Z=n(67984),J=n(11977),ee=n(37356),et=n(2676);function en({data:e,repo:t,className:n}){return e.loading||0!==e.branches.length?(0,r.jsxs)("div",{className:(0,S.$)(n,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,r.jsx)(E.A,{className:"mr-1",icon:m.GitBranchIcon}),e.loading?(0,r.jsx)(H.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,i)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(ei,{branch:n,repo:t}),i!==e.branches.length-1?(0,r.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function ei({branch:e,repo:t}){let n=e.branch;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et.A,{className:"mx-1",href:(0,j.bSP)({repo:t,head:n}),children:e.branch}),e.prs.length>0?(0,r.jsxs)(r.Fragment,{children:["(",e.prs.map((t,n)=>(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)(ea,{pullRequest:t}),n!==e.prs.length-1?(0,r.jsx)(r.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function ea({pullRequest:e}){let{repo:t,number:n,showPrefix:i}=e,a=i?`${t.ownerLogin}/${t.name}`:"";return(0,r.jsxs)(V.A,{href:(0,j.oDn)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,j.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[a,"#",n]})}try{en.displayName||(en.displayName="CommitBranchInfo")}catch{}try{ei.displayName||(ei.displayName="BranchFragment")}catch{}try{ea.displayName||(ea.displayName="PullRequestLink")}catch{}let er={"commit-message-container":"CommitHeader-module__commit-message-container--nl1pf","commit-header-actions":"CommitHeader-module__commit-header-actions--kHXV1"};var es=n(17774);function eo({commit:e,repo:t}){return(0,r.jsxs)(r.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,n)=>(0,r.jsxs)(c.Fragment,{children:[0!==n?" + ":"",(0,r.jsx)(V.A,{to:(0,j.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(b.fV.origin+b.fV.pathname+b.fV.search,b.fV.origin).search,as:es.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(n),"data-hovercard-url":(0,j.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,K.F)(e)})]},e))]})}try{eo.displayName||(eo.displayName="CommitParents")}catch{}var el=n(15385),ed=n(27331);function ec({data:e,repo:t,className:n}){if(0===e.tags.length)return null;let i=e.tags.length>2&&e.tags.length<25,a=e.tags.length>=25;return(0,r.jsxs)("div",{className:(0,S.$)(n,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,r.jsx)(E.A,{className:"mr-2 fgColor-muted",icon:m.TagIcon}),(0,r.jsx)(V.A,{href:(0,j.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),i?(0,r.jsx)(em,{tags:e.tags,repo:t}):null,a?(0,r.jsx)(eu,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,r.jsx)(V.A,{href:(0,j.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function em({tags:e,repo:t}){let[n,i]=(0,c.useState)(!1),a=(0,c.useRef)(null),s=(0,c.useCallback)(()=>{i(!0),requestAnimationFrame(()=>a.current?.focus())},[]);return n?(0,r.jsx)(r.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,r.jsx)(V.A,{ref:0===n?a:null,href:(0,j.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,r.jsx)(W.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:m.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:s})}function eu({tags:e,repo:t}){let[n,i]=(0,c.useState)(!1),a=(0,c.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:m.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>i(!0),ref:a}),n&&(0,r.jsx)(ed.l,{title:`${e.length} tags`,onClose:()=>i(!1),returnFocusRef:a,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,r.jsx)(el.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,r.jsx)(el.l.LinkItem,{href:(0,j.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{ec.displayName||(ec.displayName="CommitTagInfo")}catch{}try{em.displayName||(em.displayName="ExpandedTags")}catch{}try{eu.displayName||(eu.displayName="CommitTagsDialog")}catch{}let eh=(0,c.memo)(ef);function ef({commit:e,commitInfo:t,repo:n}){let i=(0,c.useRef)(null),a=(0,q.I)(`${(0,j.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:e.oid})}/deferred_commit_data`);return(0,r.jsxs)(U.z,{children:[(0,r.jsx)(U.z.TitleArea,{variant:"large",sx:{minWidth:0,alignItems:"center"},children:(0,r.jsxs)(U.z.Title,{as:"h1",sx:{minWidth:0},className:"f2",children:["Commit ",(0,r.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,K.F)(e.oid)})]})}),(0,r.jsx)(U.z.Actions,{className:(0,S.$)(er["commit-header-actions"]),children:(0,r.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-md-justify-end",children:[(0,r.jsx)(ex,{}),(0,r.jsx)(Q.A,{text:"Browse the repository at this point in the history",direction:"sw",sx:{display:"flex"},className:"d-none d-md-flex",children:(0,r.jsx)(z.Q,{as:V.A,sx:{color:"fg.default"},href:(0,j.IO9)({repo:n,action:"tree",commitish:e.oid}),leadingVisual:m.FileCodeIcon,children:"Browse files"})}),(0,r.jsx)(W.K,{as:V.A,href:(0,j.IO9)({repo:n,action:"tree",commitish:e.oid}),icon:m.FileCodeIcon,"aria-label":"Browse files",className:"d-flex d-md-none"})]})}),(0,r.jsx)(U.z.Description,{children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,r.jsx)(Z.j,{commit:e,repo:n,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,r.jsx)(ep,{deferredData:a,oid:e.oid,repo:n})}),(0,r.jsxs)(ee.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,r.jsxs)("div",{className:(0,S.$)(er["commit-message-container"]),children:[e.shortMessageMarkdown&&(0,r.jsx)(B.yx,{ref:i,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,r.jsx)(B.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,r.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,r.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,r.jsx)(en,{data:t,repo:n}),t.tags.length>0&&(0,r.jsx)("span",{className:"px-2",children:"\xb7"}),(0,r.jsx)(ec,{data:t,repo:n})]}),(0,r.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,r.jsx)(eo,{commit:e,repo:n})," commit ",(0,r.jsx)("span",{className:"fgColor-default",children:(0,K.F)(e.oid)}),(0,r.jsx)(J.w,{sha:e.oid,direction:"sw"})]})]})]})]})})]})}function ep({deferredData:e,oid:t,repo:n}){let{helpUrl:i}=(0,X.D)(),a=void 0===e,s="";try{s=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(H.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,r.jsx)(Y.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:s,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,r.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,r.jsx)("div",{className:"ml-2",children:(0,r.jsx)($.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:i,...e.signatureInformation}})})]})}function ex(){return(0,O.u)("diff_ux_refresh_beta")?(0,r.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,r.jsx)(G.A,{variant:"success",children:"Preview"}),(0,r.jsx)(V.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal d-none d-sm-block",children:"Give feedback"})]}):null}try{eh.displayName||(eh.displayName="CommitHeader")}catch{}try{ef.displayName||(ef.displayName="CommitHeaderUnmemoized")}catch{}try{ep.displayName||(ep.displayName="DeferredCommitHeaderData")}catch{}try{ex.displayName||(ex.displayName="Feedback")}catch{}function eg({unavailableReason:e,commit:t,commitInfo:n}){let i=(0,s.t)(),a=ey[e];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,r.jsx)(eh,{commit:t,commitInfo:n,repo:i})}),(0,r.jsxs)(u.A,{children:[(0,r.jsx)(u.A.Visual,{children:a.visual}),(0,r.jsx)(u.A.Heading,{children:a.heading}),(0,r.jsx)(u.A.Description,{children:a.description}),a.secondaryAction]})]})}let ey={corrupt:{visual:(0,r.jsx)(m.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,r.jsx)(u.A.SecondaryAction,{href:(0,j.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,r.jsx)(m.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,r.jsx)(u.A.SecondaryAction,{href:(0,j.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,r.jsx)(m.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,r.jsx)(m.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{eg.displayName||(eg.displayName="CommitUnavailable")}catch{}var ev=n(82431),ej=n(26920),eC=n(29063),eb=n(87592),ew=n(73218),eN=n(38359),e_=n(32926);let ek="commit-details-marker-portal";var eS=n(57572);let eI={extraDiffEntries:[],loading:!0,error:!1};var eT=n(37827);function eE(){let[e,t]=(0,c.useState)(!1);return(0,r.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,r.jsx)(eT.l,{title:"Some content is hidden",description:(0,r.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eE.displayName||(eE.displayName="VirtualizedBanner")}catch{}var eL=n(1977),eD=n(84),eA=n(43732),eR=n(79740),eM=n(74493),eP=n(56366);async function eF(e,t,n){let i=await (0,eS.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(i.ok)return await i.json()??void 0}async function eO({repo:e,sha1:t,sha2:n,entry:i}){let a=await (0,eS.Sr)((0,eP.RD)((0,j.uxJ)({owner:e.ownerLogin,repo:e.name,entry:i,sha1:t,sha2:n})));if(a.ok){let e=await a.json();return(0,eP.Av)(e),e.diffLines}throw Error("error fetching diff lines.")}function eB(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,i=n.get(t);return i?{...e,position:i.position}:{...e,position:null,threadsData:void 0}})}var e$=n(96590),eH=n(89323);function eU({oid:e,path:t,repo:n,isViewable:i=!0,copilotDiffChatProps:a}){return(0,r.jsxs)(eH.W,{children:[(0,r.jsx)(eH.W.Anchor,{children:(0,r.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,r.jsx)(m.KebabHorizontalIcon,{})})}),(0,r.jsx)(eH.W.Overlay,{children:(0,r.jsxs)(el.l,{children:[(0,r.jsxs)(el.l.LinkItem,{href:(0,j.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:i?void 0:"Action unavailable",children:[(0,r.jsx)(el.l.LeadingVisual,{children:(0,r.jsx)(m.EyeIcon,{})}),"View file"]}),a&&(0,r.jsx)(e$.$,{...a})]})})]})}try{eU.displayName||(eU.displayName="BlobActionsMenu")}catch{}let ez=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:i,dependencyDiffPath:a}){let{loaded:o,richDiffData:l}=function(e,t,n,i){let a=!!t.proseDiffHtml||!!t.fileRendererInfo||!!i,r=(0,s.t)(),[o,l]=(0,c.useState)(a),[d,m]=(0,c.useState)(t),u=(0,c.useCallback)(async()=>{let t=await (0,eS.lS)(`${(0,j.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&m(await t.json()),l(!0)},[e,n,r]);return(0,c.useEffect)(()=>{a||u()},[a,u]),{loaded:o,richDiffData:d}}(e,{proseDiffHtml:n,fileRendererInfo:i},t,a);return(0,r.jsx)(p.Uz,{dependencyDiffPath:a,fileRendererInfo:l.fileRendererInfo,loading:!o,proseDiffHtml:l.proseDiffHtml})});try{ez.displayName||(ez.displayName="CommitRichDiff")}catch{}let eV={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--rsdD4"},eW={isInMergeQueue:!1,state:"OPEN"},eG=c.memo(eQ);function eQ({diffMatches:e,focusedSearchResult:t,diffEntryData:n,contextLinePathURL:i,recalcTotalHeightOfVirtualWindow:a,onOptionCollapseToggle:s,helpUrl:l,headerStickyOffset:m=0,repo:u,oid:h,index:f,ignoreWhitespace:x,virtualizerScrollTo:y}){let v=(0,o.i)(),{data:j}=(0,g.Pe)();void 0===j&&(j=g.in);let C=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:ew.l,incrementActiveMarker:ew.l,onActivateGlobalMarkerNavigation:ew.l,overlayPortalContainerName:ek}),[]),b=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:w,getInlineCommentInfoByPathAndPosition:N,updateInlineCommentMapWithNewComment:_,initialExpandedThreadId:k}=(0,eA.B)(),{commentBoxConfig:S,commentBoxSubject:I}=(0,eR.X)(),T=function(e,t,n,i){let a=(0,d.B)(),{commit:r,commentInfo:s}=a,o=(0,eM.I)({commit:r,repo:a.repo,viewerCanReply:s.canComment,getInlineCommentInfoByPathAndPosition:n}),{addComment:l,deleteComment:m,editComment:u,hideComment:h,unhideComment:f}=(0,eR.X)(),{findInlineComment:p,findInlineCommentWithRelay:x}=(0,eA.B)(),{diff_inline_comments:g}=(0,O.h)(),y=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:n,text:i,thread:a})=>{let[r,s]=a.id.split("::");if(!r||!s){n(Error("Invalid threadId"));return}l(i,e,s).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[l]),v=(0,c.useCallback)(({text:e,diffLine:t,filePath:n,onCompleted:a,onError:r})=>{t&&t.position&&l(e,n,t.position.toString()).then(e=>{if(e.comment){let r=e.comment.id,s=`${n}::${t.position}`;g&&(i?.(n,t.position??0,[e.comment],!0),o(s,!0)),a?.(s,r)}else r?.(Error("Failed to add comment"))})},[l,g,i,o]),j=(0,c.useCallback)(({comment:e,text:t,onCompleted:n,onError:i})=>{let a=x(e.id);if(!a){i(Error("Comment not found"));return}u(t,{id:a.id,bodyVersion:a.bodyVersion}).then(e=>{e.updatedFields?n?.():i(Error("Failed to edit comment"))})},[u,x]),C=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let i=x(e);if(!i){n?.(Error("Comment not found"));return}m(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[m,x]),b=(0,c.useCallback)(({commentDatabaseId:e,reason:t,onCompleted:n,onError:i})=>{let a=p(e);if(!a){i?.(Error("Comment not found"));return}h(a.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&i(Error("Failed to hide comment"))})},[p,h]),w=(0,c.useCallback)(({commentDatabaseId:e,onCompleted:t,onError:n})=>{let i=p(e);if(!i){n?.(Error("Comment not found"));return}f(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[p,f]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",commentBoxSubject:t,multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:v,addThreadReply:y,deleteComment:C,editComment:j,pendingSuggestedChangesBatch:[],submitSuggestedChanges:ew.l,addSuggestedChangeToPendingBatch:ew.l,removeSuggestedChangeFromPendingBatch:ew.l,addFileLevelThread:ew.l,resolveThread:ew.l,unresolveThread:ew.l,hideComment:b,unhideComment:w,fetchThread:o,commentBoxConfig:{pasteUrlsAsPlainText:e.pasteUrlsAsPlainText,useMonospaceFont:e.useMonospaceFont}}),[v,y,C,j,o,b,w,e,t])}(S,I,N,_),[E,L]=(0,c.useState)(eX(n.current[f],w)),D=(0,c.useCallback)(e=>{L(eX(e,w))},[w]),[A,R]=(0,c.useState)(E.collapsed),[M,P]=(0,c.useState)(E.defaultToRichDiff),F=E.isSubmodule&&!!E.submodule,B=!F&&!M,[$,H]=(0,c.useState)(E.diffManuallyExpanded),U=(0,c.useRef)(!1);(0,c.useEffect)(()=>{R(E.collapsed)},[E.collapsed]);let z=(0,c.useRef)([]),V=(0,c.useCallback)(async e=>{z.current.push(e);let t=await eF(z.current,i,E.pathDigest);if(void 0!==t){let e={...E};e.diffLines=eB(e.diffLines,t.diffEntryWithContext),D(e),n.current[f]=e,a()}},[i,n,E,f]),W=async()=>{z.current=[],U.current||((E.newTreeEntry?.lineCount??0)<5e3?z.current.push({start:1,end:Math.max(E.oldTreeEntry?.lineCount??0,E.newTreeEntry?.lineCount??0)}):z.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let i=e[t-1>=0?t-1:0],a=e[t+1<e.length?t+1:e.length-1],r=i?.blobLineNumber,s=a?.blobLineNumber;r&&s&&(n.push({start:r,end:r+40}),n.push({start:Math.max(s-40,1),end:s}))}let i=e[e.length-1].blobLineNumber;return i<t&&n.push({start:i,end:i+40}),n}(E.diffLines,E.newTreeEntry?.lineCount??0)),U.current=!U.current;let e=await eF(z.current,i,E.pathDigest);if(void 0!==e){let t={...E};t.diffLines=eB(t.diffLines,e.diffEntryWithContext),D(t),n.current[f]=t,a()}},G=(0,c.useCallback)(async()=>{if(0===E.diffLines.length){let e;try{e=await eO({repo:u,sha1:E.oldOid,sha2:E.newOid,entry:E.diffNumber.toString()})}catch{throw Error("Error fetching diff lines")}let t={...E};t.diffLines=e,D(t),n.current[f]=t}E.diffManuallyExpanded=!0,n.current[f].diffManuallyExpanded=!0,H(!0),a(),requestAnimationFrame(()=>{y?.(f,{align:"center"})})},[n,E,f,a]);(0,c.useEffect)(()=>{D(n.current[f]),z.current=[]},[x,f,n,h,u.name,u.ownerLogin,E.path,D]);let Q=(0,c.useMemo)(()=>{if(E.isBinary||E.isSubmodule||(0,eD.dK)(E))return!1;if(U.current||(n.current[f]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=n.current[f]?.diffLines?.length||0,t=n.current[f]?.diffLines?.[e-1]?.blobLineNumber||0,i=n.current[f]?.newTreeEntry?.lineCount||0;return t<i||e-1<i},[n.current[f]?.diffLines,n.current[f]?.newTreeEntry?.lineCount,f,n,E]),X=(0,c.useMemo)(()=>({avatarUrl:v?.avatarURL??"",diffViewPreference:j.splitPreference,isSiteAdmin:!1,commentsPreference:j.commentsPreference,login:v?.login??"",lineSpacingPreference:j.lineSpacing,tabSizePreference:v?.tabSize??8,viewerCanComment:b.canComment,viewerCanApplySuggestion:!1}),[v?.avatarURL,v,v?.login,v?.tabSize,j]),q=(0,c.useMemo)(()=>{if(E.copilotChatReference)return{copilotChatReference:E.copilotChatReference}},[E]),K=(0,c.useId)(),Y=`heading-${K}`;return(0,r.jsxs)("div",{role:"region","aria-labelledby":Y,className:"position-relative",style:{contain:"layout"},children:[(0,r.jsx)("div",{className:eV.diffHeaderWrapper,style:{"--header-sticky-offset":`${m}px`},children:(0,r.jsx)(eL.B,{areLinesExpanded:U.current,canExpandOrCollapseLines:Q,defaultToRichDiff:E.defaultToRichDiff,fileLinkHref:`#diff-${E.pathDigest}`,isCollapsed:A,isBinary:E.isBinary,isSubmodule:F,headingId:Y,size:E.diffSize,canToggleRichDiff:E.canToggleRichDiff,linesAdded:E.linesAdded,linesChanged:E.linesChanged,linesDeleted:E.linesDeleted,newMode:E.newTreeEntry?.mode,newPath:E.newTreeEntry?.path,oldMode:E.oldTreeEntry?.mode,oldPath:E.oldTreeEntry?.path,patchStatus:E.status,path:E.path,onToggleExpandAllLines:W,onToggleFileCollapsed:e=>{e.altKey?s(!A):(E.collapsed=!A,n.current[f].collapsed=!A,R(!A))},onToggleDiffDisplay:e=>P(e),rightSideContent:(0,r.jsx)(eU,{oid:"REMOVED"===E.status&&E.deletedSha?E.deletedSha:h,path:E.path,repo:u,isViewable:!E.isSubmodule,copilotDiffChatProps:q})})}),A?null:(0,r.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[F&&E.submodule&&(0,r.jsx)(p.Wb,{submodule:E.submodule}),M&&(0,r.jsx)(ez,{commitOid:h,path:E.path,proseDiffHtml:E.proseDifffHtml,fileRendererInfo:E.renderInfo,dependencyDiffPath:E.dependencyDiffPath}),B&&(0,r.jsx)(p.T5,{diffContext:"commit",copilotChatReference:E.copilotChatReference,searchResults:e,focusedSearchResult:t,diffEntryData:E,baseHelpUrl:l,commentingEnabled:!0,commentBatchPending:!1,repositoryId:u.id.toString(),subject:eW,subjectId:h,viewerData:X,newCommitOid:E.newOid,oldCommitOid:E.oldOid,addInjectedContextLines:V,commentingImplementation:T,markerNavigationImplementation:C,diffLinesManuallyUnhidden:$,onHandleLoadDiff:G,initialExpandedThreadId:k})]})]},`${E.pathDigest}_${E.diffLines.length}`)}function eX(e,t){for(let n of e.diffLines??[]){let i=t(e.path,n.position);i?n.threadsData={totalCommentsCount:i.count,totalCount:i.count,threads:(i.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{eG.displayName||(eG.displayName="Diff")}catch{}try{eQ.displayName||(eQ.displayName="DiffUnmemoized")}catch{}var eq=n(57442),eK=n(84217);let eY=(0,c.memo)(eZ);function eZ({treeToggleElement:e,headerInfo:t,searchBox:n}){let i=(0,c.useRef)(null),a=function(e){let[t,n]=(0,c.useState)(!1),i=(0,c.useCallback)(e=>{let i=e[e.length-1].intersectionRatio<1;i!==t&&n(i)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(i,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,i]),t}(i),s=a?"d-none d-sm-flex":"";return(0,r.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:i,children:[(0,r.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,r.jsxs)(eK.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,r.jsxs)(eL.C,{className:s,isAddition:!0,children:["+",t.additions]}),(0,r.jsxs)(eL.C,{className:s,isAddition:!1,children:["-",t.deletions]}),(0,r.jsx)("span",{className:`${s} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,r.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[a&&(0,r.jsx)(eJ,{}),void 0!==n&&n,(0,r.jsx)(eq.G,{reloadOnWhitespaceChange:!0})]})]})}let eJ=()=>(0,r.jsx)(z.Q,{leadingVisual:m.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eY.displayName||(eY.displayName="DiffsHeader")}catch{}try{eZ.displayName||(eZ.displayName="DiffsHeaderUnmemoized")}catch{}try{eJ.displayName||(eJ.displayName="GoToTopButton")}catch{}let e0=c.memo(e1);function e1(){return(0,r.jsx)("div",{className:"pt-3",children:(0,r.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,r.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,r.jsx)(H.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,r.jsx)(H.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(H.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(H.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(H.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{e0.displayName||(e0.displayName="LoadingContentBlock")}catch{}try{e1.displayName||(e1.displayName="LoadingContentBlockUnmemoized")}catch{}function e2({diffEntryData:e,contextLinePathURL:t,repo:n,oid:i,treeToggleElement:a,headerInfo:s,totalFileCount:o}){let l=(0,c.useRef)(e),m=(0,eN.X)(),u=(0,d.B)(),{diff_ux_refresh_ssr_five:h,diff_ux_refresh_ssr_ten:f}=(0,O.h)(),p=h?5:f?10:void 0;return(0,r.jsxs)("div",{"data-hpc":!0,children:[o>40&&(0,r.jsx)(eE,{}),(0,r.jsx)(eY,{treeToggleElement:a,headerInfo:s}),e.map((e,a)=>p&&a>=p?null:(0,r.jsx)("div",{className:0===a?"pt-0":"pt-3",children:(0,r.jsx)(eG,{onOptionCollapseToggle:ew.l,diffEntryData:l,index:a,helpUrl:m.helpUrl,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ew.l,repo:n,ignoreWhitespace:u.ignoreWhitespace,oid:i})},e.pathDigest))]})}try{e2.displayName||(e2.displayName="SSRDiffs")}catch{}let e4=(0,c.memo)(e3);function e3({totalFileCount:e,diffEntryData:t,contextLinePathURL:n,unselectedFileExtensions:i,repo:a,oid:s,ignoreWhitespace:o,filterTerm:l,searchTerm:m,setSearchTerm:u,isTreeExpanded:h,treeToggleElement:f,headerInfo:x}){let y=(0,eb.U)(),{data:v}=(0,g.Pe)();void 0===v&&(v=g.in);let C=v.lineSpacing,w=(0,g.Qn)(v.hideWhitespace),N=(0,d.B)(),_=(0,c.useCallback)(()=>S({}),[]),[k,S]=(0,c.useState)({}),I=(0,c.useRef)(t),{findInDiffWorkerPath:E}=(0,X.D)(),L=(0,c.useRef)(t),D=(0,c.useRef)(e>40),A=(0,c.useRef)(null),[R,M]=(0,c.useState)(w),P=(0,c.useRef)(0),[F,O]=(0,c.useState)(s),{focusedSearchResult:B,setFocusedSearchResult:$,searchResults:H,currentIndex:U,setCurrentIndex:z}=(0,p.xB)(I.current,m,E,k);function V(e){for(let t of I.current)t.collapsed=e;_()}(0,c.useEffect)(()=>{i&&i.size>0?I.current=L.current.filter(e=>!i.has((0,ej.QC)(e.path))):I.current=L.current,l&&(I.current=I.current.filter(e=>e.path.toLowerCase().includes(l.toLowerCase()))),D.current=I.current.length>40,_()},[i?.size,l]),(0,c.useEffect)(()=>{I.current=t,L.current=t,D.current=e>40,_(),M(o),O(s)},[N.path]);let W=(0,eN.X)(),G=(0,j.VWf)({owner:N.repo.ownerLogin,repo:N.repo.name,sha1:N.commit.sha1,sha2:N.commit.sha2,oid:N.commit.oid}),Q=function(e,t,n,i,a,r){let[s,o]=(0,c.useState)(eI),l=(0,c.useRef)([]),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!i||!a)return;let r=!1,s=async(e,t,n)=>{o(eI);let a=await (0,eS.lS)(`${i}&start_entry=${e}&bytes=${t}&lines=${n}`);if(!r)try{if(a.ok){let e=await a.json();e&&(e.loading=e.loadMore,l.current=l.current.concat(e.extraDiffEntries),e.extraDiffEntries=l.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,o(e),setTimeout(()=>s(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,o(e)))}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}catch{o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}};return s(n,e,t),function(){r=!0}},[e,t,a,n,i,r]),(0,c.useEffect)(()=>{l.current=[],d.current=n},[i,n,r]),s}(N.asyncDiffLoadInfo.byteCount,N.asyncDiffLoadInfo.lineShownCount,N.asyncDiffLoadInfo.startIndex,G,N.moreDiffsToLoad,o);(0,c.useEffect)(()=>{let e=I.current.concat(Q.extraDiffEntries);i&&i.size>0?I.current=e.filter(e=>!i.has((0,ej.QC)(e.path))):I.current=e,l&&(I.current=I.current.filter(e=>e.path.toLowerCase().includes(l.toLowerCase()))),L.current=e,_()},[Q.extraDiffEntries.length]);let q=(0,c.useRef)(null),K=(0,e_.CK)({parentRef:q,shouldUseScrollRef:D.current,size:h?0:I.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;if(!D.current)return 0;let i=(t=I.current[e],n=57,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===C?n+=20*t.diffLines.length:n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n));return 0===e&&(i-=16),i},[I.current.length,k]),rangeExtractor(e){if(!D.current)return(0,e_.vp)(e);let t=b.fV.hash.substring(1),n=(0,eC.pd)(t),i=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),a=I.current.findIndex(e=>e.pathDigest===i),r=I.current.findIndex(e=>n?.endsWith(e.pathDigest));return a<0&&r<0?(0,e_.vp)(e):Array.from(new Set([...(0,e_.vp)(e),...[a,r].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,c.useEffect)(()=>{let e=y.includes("R"),t=y.includes("L"),n=t||e,i=n?t?y.split("L")[0]:y.split("R")[0]:y,a=e7(i??y,I.current);if(-1===a){if(Q.error&&null!==A){let e=A.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(D.current)K.scrollToIndex(a,{align:"center"}),requestAnimationFrame(()=>{if(n&&e6(q,y));else{let e=q.current?.querySelectorAll(`[aria-label="collapse file: ${I.current[a]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&e6(q,y));else{let e=q.current?.querySelectorAll(`[data-diff-anchor=diff-${i}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(b.cg?.scrollY??0)-57-60;b.cg?.scrollTo(0,t);let n=q.current?.querySelectorAll(`[aria-label="collapse file: ${I.current[a]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[y,Q]);let Y=!D.current&&0===I.current.length,Z=(0,r.jsx)(p.n$,{currentPathDigestIndex:P,searchTerm:m,focusedSearchResult:B,currentIndex:U,setCurrentIndex:z,setFocusedSearchResult:$,setSearchTerm:u,searchResults:H,scrollDiffCellIntoView:e=>{let t=e7(e?.pathDigest??"",I.current);-1!==t&&(K.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let n=b.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))}});return(0,r.jsxs)("div",{"data-hpc":!0,ref:q,children:[D.current&&(0,r.jsx)(eE,{}),(0,r.jsx)(eY,{treeToggleElement:f,headerInfo:x,searchBox:Z}),(0,r.jsx)(ev.dE,{id:ek}),!D.current&&I.current.map((e,t)=>{let i,s;return H.has(e?.pathDigest??"")&&(i=H.get(e?.pathDigest??"")??[]),B&&e?.pathDigest===B?.pathDigest&&(s=B?.indexWithinDigest??-1),(0,r.jsx)("div",{style:{paddingTop:0===t?0:16,left:3,right:3},children:(0,r.jsx)(eG,{diffEntryData:I,diffMatches:i,focusedSearchResult:s,onOptionCollapseToggle:V,index:t,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:ew.l,repo:a,helpUrl:W.helpUrl,oid:F,ignoreWhitespace:R})},e.pathDigest)}),(0,r.jsx)("div",{role:"alert",className:"sr-only",children:Y&&(0,r.jsx)("h3",{className:"d-flex flex-justify-center",children:"There are no files selected for viewing"})}),D.current&&(0,r.jsx)("div",{style:{height:K.totalSize,width:"100%",position:"relative"},children:K.virtualItems.map(e=>{let t,i;let s=I.current[e.index];return(H.has(s?.pathDigest??"")&&(t=H.get(s?.pathDigest??"")??[]),B&&s?.pathDigest===B?.pathDigest&&(i=B?.indexWithinDigest??-1),s)?(0,r.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,r.jsx)(eG,{diffMatches:t,focusedSearchResult:i,diffEntryData:I,index:e.index,contextLinePathURL:n,onOptionCollapseToggle:V,recalcTotalHeightOfVirtualWindow:_,headerStickyOffset:-e.start,helpUrl:W.helpUrl,repo:a,oid:F,ignoreWhitespace:R,virtualizerScrollTo:K.scrollToIndex})},s.pathDigest):null})}),N.moreDiffsToLoad&&(0,r.jsxs)(r.Fragment,{children:[Q.loading&&(0,r.jsx)(e0,{}),Q.error&&(0,r.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:A,children:(0,r.jsx)(T.A,{variant:"danger",tabIndex:0,children:(0,r.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function e7(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function e6(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{e4.displayName||(e4.displayName="Diffs")}catch{}try{e3.displayName||(e3.displayName="DiffsUnmemoized")}catch{}var e5=n(70170),e8=n(3240),e9=n(10712),te=n(61663);let tt="diff_file_tree",tn=(0,c.memo)(ti);function ti({contentId:e,diffs:t,onFileSelected:n,diffsHeader:i,unselectedFileExtensions:a,onFilterTextChange:s,onFileExtensionsChange:o}){let[l,d]=(0,c.useState)(""),{getCommentCountByPath:m}=(0,eA.B)(),u=(0,c.useRef)(null),h=(0,c.useRef)(null),f=(0,c.useRef)(null),p=(0,c.useMemo)(()=>(0,ej.s2)(t),[t]),x=t;a&&a.size>0&&(x=x.filter(e=>!a.has((0,ej.QC)(e.path))));let g=(l?x.filter(e=>e.path.toLowerCase().includes(l.toLowerCase())):x).map(e=>{let t=m(e.path);return{...e,totalCommentsCount:t??0}});return(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",id:tt,tabIndex:-1,children:[(0,r.jsx)(w.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),n=document.getElementById(tt),i=!1;if(t?.contains(document.activeElement)&&(i=!0),i){let e=f.current||n;h.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=h.current||t;f.current=n?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,r.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,r.jsx)("div",{className:"d-md-none",ref:u,children:i}),(0,r.jsx)(ta,{filterText:l,onFilterTextChange:e=>{d(e),s(e)},fileExtensions:p,unselectedFileExtensions:a,onFileExtensionsChange:o}),(0,r.jsx)(e9.oj,{diffs:g,renderPattern:"traditional",onSelect:e=>{n(e,(0,te.nn)(window.innerWidth)<=te.Gy.medium?"close_tree":void 0)}})]})}function ta({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:i,onFileExtensionsChange:a}){let s=(0,c.useRef)((0,e5.s)(e=>t(e),250));return(0,r.jsx)(e8.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:i,onFilterTextChange:e=>s.current(e),onFilterChange:(e,t)=>{a(e,t.extension)}})}try{tn.displayName||(tn.displayName="FileTree")}catch{}try{ti.displayName||(ti.displayName="FileTreeUnmemoized")}catch{}try{ta.displayName||(ta.displayName="FileFilter")}catch{}var tr=n(5189);async function ts({repo:e,commitOid:t,untilCommentId:n}){let i=await (0,eS.Sr)((0,eP.RD)((0,j.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:n})));if(i.ok){let e=await i.json();return(0,eP.Av)(e),e}throw Error("Failed to fetch comment data")}var to=n(62964);let tl={SplitPageLayout_Content:"Commit-module__SplitPageLayout_Content--ZY6yu",HiddenPane:"Commit-module__HiddenPane--_CsIZ",Pane:"Commit-module__Pane--r5DTJ",MobileExpanded:"Commit-module__MobileExpanded--OVBPx",TreeExpanded:"Commit-module__TreeExpanded--asa0G"},td=(0,C.E7)(),tc="diff-content-parent";function tm(){(0,_.L)(!0);let e=(0,d.B)(),{splitPagePaneHidden:t,splitPageContentHidden:n,treeToggleElement:i,collapseTree:a,isMobileTreeExpanded:o,isTreeExpanded:m}=(0,to.q)(tt,e.fileTreeExpanded,e.currentUser),[u,h]=(0,c.useState)(()=>new Set),[f]=(0,N.I)(()=>!1,!0,[]),[C,T]=(0,c.useState)(""),[E,L]=(0,c.useState)(""),[D,A]=(0,c.useState)(!1),R=(0,c.useCallback)((e,t)=>{"close_tree"===t&&a()},[a]),F=function(e){let t=(0,s.t)(),[n,i]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1;return(async()=>{i({branches:[],tags:[],loading:!0});let a=await (0,eS.lS)((0,j.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(a.ok){let e=await a.json();e.loading=!1,e&&i({...e,loading:!1})}else i({branches:[],tags:[],loading:!1})}catch{i({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),O=(0,j.t0c)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),{mutate:B}=(0,x.U)({onSuccess:()=>{},onError:()=>{}}),$=(0,g.C0)(e.splitViewPreference),H=(0,c.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:$,lineSpacing:e.diffLineSpacingPreference,commentsPreference:e.commentsPreference}),[e.commentsPreference,e.diffLineSpacingPreference,e.ignoreWhitespace,$]),{data:U}=(0,g.Pe)(H),z=(0,c.useCallback)(()=>{B({commentsPreference:U?.commentsPreference===g.sI.Visible?g.sI.Collapsed:g.sI.Visible})},[U?.commentsPreference,B]),V=(0,c.useCallback)((e,t)=>{let n=new Set(u);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),h(n)},[u]);(0,c.useEffect)(()=>{h(new Set)},[e.commit]),(0,c.useEffect)(()=>{(b.cg?.scrollY??0)>0&&b.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:W,state:G}=function(e,t){let[n,i]=(0,c.useState)(void 0),[a,r]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{let n;i(void 0),r("loading");let a=b.cg?.location.hash;a&&/^#commitcomment-\d+$/.test(a)&&(n=a.replace("#commitcomment-","")),(async()=>{try{let a=await ts({repo:e,commitOid:t,untilCommentId:n});i(a),r("loaded")}catch{r("error")}})()},[t,e]),{deferredCommentData:n,state:a}}(e.repo,e.commit.oid),Q=W?.threadMarkers,X=W?.inlineComments,[q,K]=(0,c.useState)(void 0);if((0,c.useEffect)(()=>{if("loaded"===G){let e=b.cg?.location.hash.slice(1);if(e&&W){if(/^commitcomment-\d+$/.test(e))W?.discussionComments.comments.find(t=>t.urlFragment===e)&&b.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of W.threadMarkers)if(e.threads){for(let n of e.threads)if(n.commentsData.comments){for(let e of n.commentsData.comments)if(e&&e.id&&e.id.toString()===t){K(n.id);return}}}}}}},[W,G]),e.unavailableReason)return(0,r.jsx)(eg,{commit:e.commit,commitInfo:F,unavailableReason:e.unavailableReason});let[Y,Z]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,r.jsx)(I.RelayEnvironmentProvider,{environment:td,children:(0,r.jsxs)(eA.r,{initialInlineComments:X,initialFiles:Q,initialExpandedThreadId:q,children:[(0,r.jsx)(w.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,j.$Qz)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});(0,v.kd)(t)},"commit-diff-view:collapse-expand-comments":z}}),(0,r.jsxs)(k.O7,{children:[(0,r.jsxs)(k.O7.Header,{children:[(0,r.jsx)(M,{commitBranchState:F,oid:e.commit.oid,repo:e.repo}),(0,r.jsx)(eh,{commit:e.commit,commitInfo:F,repo:e.repo})]}),(0,r.jsx)(k.O7.Pane,{position:"start",sticky:!0,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,className:(0,S.$)(t?tl.HiddenPane:tl.Pane,o&&tl.MobileExpanded,m&&tl.TreeExpanded),children:(0,r.jsx)(l.t,{fallback:(0,r.jsx)("span",{children:"File tree failed to load."}),children:(0,r.jsx)(tn,{contentId:tc,diffs:Z,onFileSelected:R,unselectedFileExtensions:u,diffsHeader:(0,r.jsx)(eY,{treeToggleElement:i,headerInfo:e.headerInfo}),onFileExtensionsChange:V,onFilterTextChange:T})})}),(0,r.jsx)(k.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",className:tl.SplitPageLayout_Content,children:(0,r.jsxs)("div",{id:tc,tabIndex:-1,children:[f?(0,r.jsx)(e2,{diffEntryData:Y,contextLinePathURL:O,repo:e.repo,oid:e.commit.oid,treeToggleElement:i,headerInfo:e.headerInfo,totalFileCount:e.diffEntryData?.length??0}):(0,r.jsx)(p.cP,{searchTerm:E,setSearchTerm:L,children:(0,r.jsx)(e4,{totalFileCount:e.diffEntryData?.length??0,treeToggleElement:i,headerInfo:e.headerInfo,isTreeExpanded:o,searchTerm:E,setSearchTerm:L,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:Y,contextLinePathURL:O,filterTerm:C,unselectedFileExtensions:u,repo:e.repo,oid:e.commit.oid})}),(0,r.jsx)(tr.c,{comments:W?.discussionComments?.comments,commentCount:W?.discussionComments?.count,canLoadMore:W?.discussionComments?.canLoadMore,subscribed:W?.subscribed,providerState:G,repo:e.repo,commitOid:e.commit.oid,children:(0,r.jsx)(P.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,r.jsx)(y.nq,{})]})})]})]})})}try{tm.displayName||(tm.displayName="Commit")}catch{}function tu({url:e}){return(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,r.jsxs)(V.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{tu.displayName||(tu.displayName="CommitHelpMessage")}catch{}let th=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function tf({filters:e,children:t}){return(0,r.jsx)(th.Provider,{value:e,children:t})}function tp(){return(0,c.useContext)(th)}try{th.displayName||(th.displayName="FilterContext")}catch{}try{tf.displayName||(tf.displayName="FilterProvider")}catch{}var tx=n(44639),tg=n(63867),ty=n(82169),tv=n(34214);function tj(){let e=tp();return e.newPath&&e.originalBranch}function tC(){let e=(0,s.t)(),t=tp();return tj()?(0,r.jsx)(tv.s,{sx:{pt:1,pb:0},children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,r.jsx)(tv.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,r.jsx)(es.N,{to:(0,j.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tb(){let e=(0,ty.ej)();return e?.hasRenameCommits?(0,r.jsx)(tv.s,{children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,r.jsx)(tv.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,r.jsx)(es.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tw(){let e=(0,ty.ej)();return e?.hasRenameCommits?null:(0,r.jsx)(tv.s,{clipTimeline:"bottom",children:(0,r.jsx)(tv.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tN(){let e=tp(),t=(0,ty.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(tv.s,{leadingVisual:(0,r.jsx)(tg.A,{size:"small"})}),!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tb,{}),(0,r.jsx)(tw,{})]})]})}try{tC.displayName||(tC.displayName="RenamedToHistory")}catch{}try{tb.displayName||(tb.displayName="RenamedFromHistory")}catch{}try{tw.displayName||(tw.displayName="EndOfFileHistory")}catch{}try{tN.displayName||(tN.displayName="EndOfFile")}catch{}function t_({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let i=tp(),a=(0,s.t)(),o=(0,q.wu)(t);return(0,r.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,r.jsx)(tx.f,{leadingContent:(0,r.jsx)(tC,{}),commitGroups:e,trailingContent:(0,r.jsx)(tN,{}),repository:a,deferredCommitData:o,shouldClipTimeline:function(){let e=tj(),t=tp();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:i.currentBlobPath,softNavToCommit:n})]})}try{t_.displayName||(t_.displayName="CommitList")}catch{}var tk=n(17500),tS=n(46928),tI=n(70300),tT=n(53904),tE=n(84929),tL=n(96912),tD=n(5225);async function tA(e){let t=await (0,eS.lS)(e);return t.ok?await t.json():void 0}let tR=new Map,tM=(0,tD.A)(tA,{cache:tR});function tP(e,t){let n=new URL(b.fV.origin+b.fV.pathname+b.fV.search,b.fV.origin),i=n.searchParams;for(let e of t)i.has(e)&&i.delete(e);for(let[t,n]of Object.entries(e))i.set(t,n.toString());return n.pathname+n.search}var tF=n(6907);let tO=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,81020)).then(e=>({default:e.DatePicker}))),tB=()=>(0,r.jsx)(E.A,{icon:m.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function t$({repo:e,refInfo:t,path:n,author:i,contributorsUrl:a,since:o,until:l}){let d=t.name;d===t.currentOid&&(d=(0,K.F)(t.currentOid));let u=(0,tS.Z)(),h=function(e){let t=(0,s.t)(),[n,i]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{i({users:[],error:!1,loading:!0});let n=await tM(e);if(t)return;let a=[],r=!1;try{n?a=n.authors:r=!0}catch{r=!0}i({users:a,error:r,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(a),f=c.useMemo(()=>{let e=(0,tE.H)(o??""),t=(0,tE.H)(l??"");return(0,tL.f)(e)&&(0,tL.f)(t)?{from:e,to:t}:null},[o,l]),p=n?.split("/");return(0,r.jsxs)(F.B,{direction:"horizontal",gap:"condensed",justify:"space-between",className:"mb-3",children:[n&&(0,r.jsx)("div",{className:"d-flex flex-items-center",children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,r.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,r.jsxs)(tT.A,{className:"ml-1",children:[(0,r.jsx)(tT.A.Item,{href:(0,j.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),p.map((n,i,a)=>{let s=(0,j.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:a.slice(0,i+1).join("/")}),o=i===a.length-1;return(0,r.jsx)(tT.A.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:s,selected:o,children:n},s)})]}),(0,r.jsxs)("div",{className:"no-wrap",children:[(0,r.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,r.jsx)(et.A,{href:(0,j.IO9)({repo:e,commitish:t.name,action:"tree"}),children:d})]})]})}),!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,r.jsx)(tk.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,j.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,r.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,r.jsx)(tI.T,{defaultText:"All users",width:"medium",usersState:h,showTypedInUser:!0,currentUser:i??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==i?.login&&u(tP({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,r.jsx)(el.l.LinkItem,{href:tP({},["author"]),"aria-checked":null===i,children:"View commits for all users"})}),(0,r.jsxs)(c.Suspense,{fallback:(0,r.jsx)(z.Q,{leadingVisual:tB,trailingVisual:m.TriangleDownIcon,children:"All time"}),children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,r.jsx)(tO,{variant:"range",value:f,maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){u(tP({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,tF.x)(e.from,{representation:"date"}),endDate:(0,tF.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:i}=t;u(tP({since:n,until:i},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,r.jsx)(z.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tB,trailingVisual:m.TriangleDownIcon,children:e})})]})]})]})}try{tO.displayName||(tO.displayName="DatePicker")}catch{}try{tB.displayName||(tB.displayName="StyledCalendarIcon")}catch{}try{t$.displayName||(t$.displayName="ListHeader")}catch{}var tH=n(91321);function tU({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,i=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eK.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,r.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,r.jsxs)(tH.A,{children:[(0,r.jsx)(z.Q,{as:es.N,to:tz(e,!1),className:"fgColor-accent text-normal",...i(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,r.jsx)(E.A,{icon:m.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,r.jsx)(z.Q,{as:es.N,to:tz(e,!0),className:"fgColor-accent text-normal",...i(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,r.jsx)(E.A,{icon:m.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function tz(e,t){return tP(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tU.displayName||(tU.displayName="Pagination")}catch{}var tV=n(31655);function tW({children:e,title:t}){return(0,r.jsxs)(tV.M,{rowGap:"none",children:[(0,r.jsx)(tV.M.Header,{divider:"line",sx:{mb:3},children:(0,r.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,r.jsx)(eK.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,r.jsx)(tV.M.Content,{as:"div",children:(0,r.jsx)("div",{children:e})})]})}try{tW.displayName||(tW.displayName="Layout")}catch{}var tG=n(47938);function tQ(){let e=(0,s.t)(),t=(0,X.D)(),n=(0,d.B)(),i=n.filters,a=n.commitGroups,o=n.metadata?.softNavToCommit||!1,l=`There isn't any commit history to show here${null!==i.since||null!==i.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!b.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,r.jsx)(tf,{filters:n.filters,children:(0,r.jsxs)(tW,{title:"Commits",children:[(0,r.jsx)(t$,{repo:e,contributorsUrl:n.metadata?.deferredContributorUrl||"",since:i.since,until:i.until,author:i.author,refInfo:n.refInfo,path:i.currentBlobPath}),0===a.length&&(0,r.jsx)(tG.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:l}),a.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t_,{commitGroups:a,deferredDataUrl:n.metadata?.deferredDataUrl||"",softNavToCommit:o}),(0,r.jsx)(tU,{paginationInfo:i.pagination})]}),n.metadata?.showProfileHelp&&(0,r.jsx)(tu,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tQ.displayName||(tQ.displayName="Commits")}catch{}(0,a.o)("commits",()=>({App:f,routes:[(0,i.a)({path:"/:owner/:repo/commits",Component:tQ}),(0,i.a)({path:"/:owner/:repo/commits/:ref",Component:tQ}),(0,i.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tQ}),(0,i.a)({path:"/:owner/:repo/commit/:oid",Component:tm}),(0,i.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:tm}),(0,i.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:tm})]}))},79740:(e,t,n)=>{n.d(t,{X:()=>l});var i=n(17908),a=n(5796),r=n(86365),s=n(57572),o=n(96540);function l(){let e=(0,i.t)(),t=(0,r.B)(),{commit:n}=t,l=`/${(0,a.QU3)(e.ownerLogin)}/${(0,a.QU3)(e.name)}/commit_comment`,d=`${l}/create`,c=(0,o.useCallback)(async(e,t,i)=>{let a=new FormData;a.append("commit_id",n.oid),a.append("comment[body]",e),t&&i&&(a.append("path",t),a.append("position",i.toString()));let r=await (0,s.DI)(d,{method:"POST",body:a});return r.ok?{error:null,comment:(await r.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[n.oid,d]),m=(0,o.useCallback)(async(e,t)=>{let n=new FormData;n.append("_method","put"),n.append("commit_comment[id]",t.id.toString()),n.append("commit_comment[body]",e),n.append("commit_comment[bodyVersion]",t.bodyVersion);let i=await (0,s.DI)(l,{method:"POST",body:n});if(!i.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await i.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[l]),u=(0,o.useCallback)(async e=>{let t=new FormData;return(t.append("_method","delete"),t.append("commit_comment[id]",e),(await (0,s.DI)(l,{method:"POST",body:t})).ok)?"success":"error"},[l]),h=(0,o.useCallback)(async(e,t)=>{let n=new FormData;return(n.append("_method","put"),n.append("classifier",t),(await (0,s.DI)(`${l}/${e}/minimize`,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)?"success":"error"},[l]),f=(0,o.useCallback)(async e=>{let t=new FormData;return(t.append("_method","put"),(await (0,s.DI)(`${l}/${e}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)?"success":"error"},[l]),p=(0,o.useMemo)(()=>({repository:{databaseId:e.id,nwo:`${e.ownerLogin}/${e.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:n.oid}}),[e.id,e.name,e.ownerLogin,n.oid]);return(0,o.useMemo)(()=>({addComment:c,commentBoxConfig:{pasteUrlsAsPlainText:t.pasteUrlLinkAsPlainText,useMonospaceFont:t.useMonospaceFont},commentBoxSubject:p,editComment:m,deleteComment:u,hideComment:h,unhideComment:f}),[c,t.pasteUrlLinkAsPlainText,t.useMonospaceFont,u,m,h,f,p])}},9916:(e,t,n)=>{n.d(t,{D:()=>a});var i=n(38359);function a(){return(0,i.X)()}},74493:(e,t,n)=>{n.d(t,{I:()=>c,p:()=>u});var i=n(5796),a=n(46584),r=n(47584),s=n(57572),o=n(96540),l=n(43732),d=n(55833);function c({repo:e,commit:t,viewerCanReply:n,getInlineCommentInfoByPathAndPosition:r}){let{addComments:d}=(0,l.B)(),{diff_inline_comments:c}=(0,a.h)();return(0,o.useCallback)((a,o)=>new Promise(async(l,u)=>{let[h,f]=a.split("::");if(!h||!f){u(Error("Invalid threadId"));return}if(c&&!o){let i=r(h,Number(f));l(i?m(i,t,e,n,a):void 0);return}let p=await (0,s.lS)(`${(0,i.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:t.oid,path:h,position:f})}${o?"&isRefetch=true":""}`);if(p.ok){let i=await p.json();d(i.comments,h,f),l(i.comments?m(i.comments,t,e,n,a):void 0)}else u(Error("Failed to fetch thread"))}),[d,t,c,r,e,n])}function m(e,t,n,i,a){return{commentsData:{comments:e.map(e=>u(e,t,n))},id:a,viewerCanReply:i}}function u(e,t,n){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${r.cg?.location.origin}${(0,i.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:t.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReact:e.viewerCanReact,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerDidAuthor:e.viewerDidAuthor,reactionGroups:e.reactionGroups,reference:{number:void 0,text:(0,d.F)(t.oid),author:{login:t.authors.length>0?t.authors[0]?.login??"":""}},repository:{id:n.id.toString(),isPrivate:n.private,name:n.name,owner:{id:n.ownerLogin,login:n.ownerLogin,url:""}}}}},95017:(e,t,n)=>{n.d(t,{I:()=>l,d_:()=>d,wu:()=>o});var i=n(56366),a=n(57572),r=n(96540),s=n(82169);function o(e,t){let[n,o]=(0,r.useState)(s.UI);return(0,r.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{o(s.UI);let n=await (0,a.Sr)((0,i.RD)(e));if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&((0,i.Av)(e),o(e))}else o(s.Xx)}catch{o(s.Xx)}})(),function(){t=!0}},[e,t]),n}function l(e){let[t,n]=(0,r.useState)(void 0);return(0,r.useEffect)(()=>{e&&(async()=>{let t=await (0,a.Sr)((0,i.RD)(e));try{if(t.ok){let e=await t.json();e&&((0,i.Av)(e),n(e.data))}}catch{}})()},[e]),t}function d(e,t,n,i){let[o,l]=(0,r.useState)(s.UI),d=(0,r.useRef)([...Array(n)]),c=(0,r.useRef)(t);return(0,r.useEffect)(()=>{if(!e)return;let n=!1;async function i(t){let r=await (0,a.Sr)(`${e}?start_entry=${t}`);if(!n)try{if(r.ok){let e=await r.json();if(e){let t=0;for(let n=c.current;n<e.nextIndex;n++)d.current[n]=e.deferredCommits[t],t++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,l(e),setTimeout(()=>i(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,l(e))}}else l(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{l(e=>({...e,loading:!1,deferredCommits:d.current}))}}return i(t),function(){n=!0}},[e,i,t]),(0,r.useEffect)(()=>{d.current=[],c.current=t},[e,i,t]),o}},55833:(e,t,n)=>{n.d(t,{F:()=>i});function i(e){return e.slice(0,7)}},74779:(e,t,n)=>{n.d(t,{N:()=>i});function i(e,t){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===t}},11086:(e,t,n)=>{n.d(t,{t:()=>a});var i=n(5804);let a=({items:e,filter:t,key:n,secondaryKey:a})=>{let r=e.map(e=>[(0,i.dt)(t,n(e)),e]);return a&&(r=r.map(([e,n])=>[Math.max(e,(0,i.dt)(t,a(n))),n])),r.filter(([e])=>e>i.IP).sort(([e,t],[i,a])=>i===e?n(t).localeCompare(n(a)):i-e).map(([,e])=>e)}},5804:(e,t,n)=>{n.d(t,{Dx:()=>s,IP:()=>r,M4:()=>a,dt:()=>o});var i=n(91385);let a=1/0,r=-1/0,s=1,o=(e,t,n=s)=>{let o=e.trim().toLowerCase(),l=t.trim().toLowerCase();if(o===l)return a;if(0===l.length||0===o.length)return r;let d=(0,i.fN)(o,l);return d===1/0&&o!==l?r:l.startsWith(o)||l.endsWith(o)?d+n:d}},70404:(e,t,n)=>{n.d(t,{S:()=>l,s:()=>o});var i=n(21728),a=n(96540),r=n(46988),s=n(50045);function o(){let e,t;let n=(0,i.c)(6),o=(0,a.useContext)(s.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:d,metadata:c}=o;n[0]!==l||n[1]!==d||n[2]!==c?(e=(e,t,n)=>{let i={react:!0,app_name:l,category:d,...c};(0,r.BI)(e,{...i,...void 0===n?{}:n,target:t})},n[0]=l,n[1]=d,n[2]=c,n[3]=e):e=n[3];let m=e;return n[4]!==m?(t={sendAnalyticsEvent:m},n[4]=m,n[5]=t):t=n[5],t}function l(){let e,t;let n=(0,i.c)(4),{sendAnalyticsEvent:a}=o();n[0]!==a?(e=e=>{a("analytics.click",void 0,void 0===e?{}:e)},n[0]=a,n[1]=e):e=n[1];let r=e;return n[2]!==r?(t={sendClickAnalyticsEvent:r},n[2]=r,n[3]=t):t=n[3],t}},58206:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(86365);function a(e,t){let{csrf_tokens:n}=(0,i.B)();return n?.[e]?.[t]}},32926:(e,t,n)=>{n.d(t,{vp:()=>r.v,hf:()=>l,CK:()=>d});var i=n(38568),a=n(96540),r=n(35822);let s=e=>e;function o(e,t){return({additionalScrollOffset:n=0,scrollToFn:r,horizontal:s,parentRef:o,shouldUseScrollRef:l=!0,...d})=>{(0,a.useDebugValue)(t);let c=(0,a.useRef)(window),m=(0,a.useCallback)(()=>{let e=o.current?.getBoundingClientRect(),t=e?.top??0,n=e?.left??0;return s?-1*n:-1*t},[s,o]),u=(0,a.useCallback)(e=>{let t=e+((o.current?.getBoundingClientRect().top??0)+window.scrollY)+n;c.current?.scroll({top:s?0:t,left:s?t:0})},[n,s,o]);return e({...d,horizontal:s,parentRef:o,scrollToFn:r||u,onScrollElement:l?c:void 0,scrollOffsetFn:m,useObserver:()=>(function(e){let[t,n]=(0,a.useState)({height:0,width:0}),r=e.current;return(0,i.N)(()=>{if(!r)return;let e=()=>{let e={height:r.innerHeight,width:r.innerWidth};n(t=>t.height!==e.height||t.width!==e.width?e:t)};return e(),r.addEventListener("resize",e),()=>{r.removeEventListener("resize",e)}},[r]),t})(c)})}}let l=o(r.z,"useVirtualWindow"),d=o(function(e){let t=a.useRef({}),n=a.useRef({}),i=(e,n)=>{t.current[e](n)},o=a.useRef(i);o.current=i;let l=a.useRef(new ResizeObserver(e=>{for(let t of e){let e=t.target,n="data-key",i=e.getAttribute(n);if(null===i)throw Error(`Value not found, for '${n}' attribute`);o.current(i,e)}}));a.useEffect(()=>{let e=l.current;return()=>{e.disconnect()}},[]);let{size:d,keyExtractor:c=s}=e,m=a.useMemo(()=>{let e=e=>t=>{n.current[e]&&l.current.unobserve(n.current[e]),t&&(o.current(e,t),l.current.observe(t)),n.current[e]=t},t={};for(let n=0;n<d;n++){let i=c(n);t[i]=e(i)}return t},[d,c]),u=(0,r.z)(e),h=u.virtualItems.map(e=>(t.current[e.key]=e.measureRef,{...e,measureRef:m[e.key]}));return{...u,virtualItems:h}},"useVirtualWindowDynamic")},70300:(e,t,n)=>{n.d(t,{T:()=>N});var i=n(74848),a=n(21728),r=n(62456),s=n(38621),o=n(75177),l=n(89323),d=n(15385),c=n(9591),m=n(46309),u=n(63867),h=n(6869),f=n(96540),p=n(88764),x=n(60016);let g=f.memo(function(e){let t,n,s,o,l;let c=(0,a.c)(17),{user:m,isCurrent:u,onSelect:h,shouldSetAsDiv:f}=e,p=f?"div":"li";c[0]!==h||c[1]!==m?(t=()=>{h&&h(m)},c[0]=h,c[1]=m,c[2]=t):t=c[2];let x=m.primaryAvatarUrl;return c[3]!==m.path?(n=m.path.startsWith("/apps/"),c[3]=m.path,c[4]=n):n=c[4],c[5]!==n||c[6]!==m.primaryAvatarUrl?(s=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(r.r,{src:x,square:n})}),c[5]=n,c[6]=m.primaryAvatarUrl,c[7]=s):s=c[7],c[8]!==m.name?(o=(0,i.jsx)(d.l.Description,{truncate:!0,children:m.name}),c[8]=m.name,c[9]=o):o=c[9],c[10]!==u||c[11]!==p||c[12]!==t||c[13]!==s||c[14]!==o||c[15]!==m.login?(l=(0,i.jsxs)(d.l.Item,{as:p,selected:u,onSelect:t,children:[s,m.login,o]}),c[10]=u,c[11]=p,c[12]=t,c[13]=s,c[14]=o,c[15]=m.login,c[16]=l):l=c[16],l});try{g.displayName||(g.displayName="UserItem")}catch{}var y=n(75632);function v(e){let t;let n=(0,a.c)(2);return n[0]!==e?(t=e.users.length>20?(0,i.jsx)(C,{...e}):(0,i.jsx)(j,{...e}),n[0]=e,n[1]=t):t=n[1],t}function j(e){let t,n,r;let s=(0,a.c)(12),{users:l,currentUser:d,onSelect:c,sx:m}=e;if(s[0]!==m?(t={maxHeight:330,overflowY:"auto",...m},s[0]=m,s[1]=t):t=s[1],s[2]!==d?.login||s[3]!==c||s[4]!==l){let e;s[6]!==d?.login||s[7]!==c?(e=e=>(0,i.jsx)(g,{user:e,isCurrent:e.login===d?.login,onSelect:c},e.login),s[6]=d?.login,s[7]=c,s[8]=e):e=s[8],n=l.map(e),s[2]=d?.login,s[3]=c,s[4]=l,s[5]=n}else n=s[5];return s[9]!==t||s[10]!==n?(r=(0,i.jsx)(o.A,{sx:t,children:n}),s[9]=t,s[10]=n,s[11]=r):r=s[11],r}function C(e){let t,n,r,s;let o=(0,a.c)(13),{users:l,currentUser:d,onSelect:c,sx:m}=e;o[0]!==m?(t={maxHeight:330,overflowY:"auto",...m},o[0]=m,o[1]=t):t=o[1],o[2]!==d?.login||o[3]!==c?(n=e=>(0,i.jsx)(g,{user:e,isCurrent:e.login===d?.login,onSelect:c,shouldSetAsDiv:!0},e.login),o[2]=d?.login,o[3]=c,o[4]=n):n=o[4],o[5]!==t||o[6]!==n||o[7]!==l?(r={items:l,itemHeight:33,sx:t,makeKey:b,renderItem:n},o[5]=t,o[6]=n,o[7]=l,o[8]=r):r=o[8];let u=r;if((0,y.G7)("fixed_size_virtual_uses_tanstack_react_virtual")){let e;return o[9]!==u?(e=(0,i.jsx)(x.F,{...u}),o[9]=u,o[10]=e):e=o[10],e}return o[11]!==u?(s=(0,i.jsx)(p.F,{...u}),o[11]=u,o[12]=s):s=o[12],s}function b(e){return e.login}try{v.displayName||(v.displayName="UsersList")}catch{}try{j.displayName||(j.displayName="FullUsersList")}catch{}try{C.displayName||(C.displayName="VirtualUsersList")}catch{}var w=n(13080);function N(e){var t;let n,c,m,u,h,p,x,g,y,j,C,b,N,E,L,D,A,R,M,P;let F=(0,a.c)(59),{defaultText:O,usersState:B,currentUser:$,onSelect:H,hotKey:U,onOpenChange:z,renderCustomFooter:V,size:W,showTypedInUser:G,width:Q,label:X}=e,q=void 0!==G&&G,K=void 0===Q?"large":Q,Y=void 0===X?"":X,[Z,J]=(0,f.useState)("");F[0]!==Z||F[1]!==q||F[2]!==B.users?(n=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(B.users,Z),c=q&&(t=n,!!Z&&(0===t.length||t.length>1||1===t.length&&!!t[0]&&t[0].login.toLowerCase()!==Z.toLowerCase())),F[0]=Z,F[1]=q,F[2]=B.users,F[3]=n,F[4]=c):(n=F[3],c=F[4]);let ee=c,et=0===n.length&&!ee;return m=!B.loading&&!B.error&&et,F[5]!==m?(u=()=>{m&&(0,w.i)("Nothing to show")},F[5]=m,F[6]=u):u=F[6],F[7]!==m||F[8]!==Z?(h=[m,Z],F[7]=m,F[8]=Z,F[9]=h):h=F[9],(0,f.useEffect)(u,h),F[10]!==m||F[11]!==z?(p=e=>{z&&z(e),m&&(0,w.i)("Nothing to show")},F[10]=m,F[11]=z,F[12]=p):p=F[12],F[13]!==$?(x=(0,i.jsx)("div",{className:"mr-2",children:$?(0,i.jsx)(r.r,{size:16,src:$.primaryAvatarUrl,square:$.path.startsWith("/apps/")}):(0,i.jsx)(s.PeopleIcon,{size:"small",className:"fgColor-muted"})}),F[13]=$,F[14]=x):x=F[14],F[15]===Symbol.for("react.memo_cache_sentinel")?(g={maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},F[15]=g):g=F[15],F[16]!==$||F[17]!==O||F[18]!==Y?(y=(0,i.jsx)(o.A,{sx:g,children:$?(0,i.jsxs)("span",{children:[Y,$.login]}):(0,i.jsx)("span",{children:O})}),F[16]=$,F[17]=O,F[18]=Y,F[19]=y):y=F[19],F[20]!==y||F[21]!==x?(j=(0,i.jsxs)("div",{className:"d-flex",children:[x,y]}),F[20]=y,F[21]=x,F[22]=j):j=F[22],F[23]!==U||F[24]!==W||F[25]!==j?(C=(0,i.jsx)(l.W.Button,{"data-hotkey":U,size:W,"data-testid":"user-selector-button",children:j}),F[23]=U,F[24]=W,F[25]=j,F[26]=C):C=F[26],F[27]!==Z?(b=(0,i.jsx)(_,{defaultText:Z,onFilterChange:J}),F[27]=Z,F[28]=b):b=F[28],F[29]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsx)(d.l.Divider,{}),F[29]=N):N=F[29],F[30]!==Z||F[31]!==H||F[32]!==ee||F[33]!==et||F[34]!==B.error||F[35]!==B.loading?(E=B.loading?(0,i.jsx)(k,{}):B.error?(0,i.jsx)(S,{}):(0,i.jsxs)(i.Fragment,{children:[et&&(0,i.jsx)(I,{}),ee&&(0,i.jsx)(T,{filterText:Z,onSelect:H})]}),F[30]=Z,F[31]=H,F[32]=ee,F[33]=et,F[34]=B.error,F[35]=B.loading,F[36]=E):E=F[36],F[37]!==$||F[38]!==n||F[39]!==H||F[40]!==V?(L=n.length>0&&(0,i.jsx)(v,{users:n,currentUser:$,onSelect:H,sx:V?{pb:"10px",pt:1}:{pt:1}}),F[37]=$,F[38]=n,F[39]=H,F[40]=V,F[41]=L):L=F[41],F[42]!==V?(D=V&&(0,i.jsx)(d.l.Divider,{sx:{marginTop:0}}),F[42]=V,F[43]=D):D=F[43],F[44]!==V?(A=V?.(),F[44]=V,F[45]=A):A=F[45],F[46]!==b||F[47]!==E||F[48]!==L||F[49]!==D||F[50]!==A?(R=(0,i.jsxs)(d.l,{showDividers:!0,selectionVariant:"single",children:[b,N,E,L,D,A]}),F[46]=b,F[47]=E,F[48]=L,F[49]=D,F[50]=A,F[51]=R):R=F[51],F[52]!==R||F[53]!==K?(M=(0,i.jsx)(l.W.Overlay,{width:K,children:R}),F[52]=R,F[53]=K,F[54]=M):M=F[54],F[55]!==C||F[56]!==M||F[57]!==p?(P=(0,i.jsx)("div",{children:(0,i.jsxs)(l.W,{onOpenChange:p,children:[C,M]})}),F[55]=C,F[56]=M,F[57]=p,F[58]=P):P=F[58],P}function _(e){let t,n,r,o;let l=(0,a.c)(7),{onFilterChange:m,defaultText:u}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={px:2},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:"100%"},l[1]=n):n=l[1],l[2]!==m?(r=e=>m(e.target.value),l[2]=m,l[3]=r):r=l[3],l[4]!==u||l[5]!==r?(o=(0,i.jsx)(d.l.Group,{sx:t,children:(0,i.jsx)(c.A,{leadingVisual:s.SearchIcon,value:u,sx:n,placeholder:"Find a user...",onChange:r})}),l[4]=u,l[5]=r,l[6]=o):o=l[6],o}function k(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(m.B,{justify:"center",className:"p-2",children:(0,i.jsx)(u.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function S(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(h.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function I(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(m.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function T(e){let t,n,r,s;let o=(0,a.c)(9),{filterText:l,onSelect:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",justifyContent:"center",mb:2},o[0]=t):t=o[0],o[1]!==l||o[2]!==c?(n=()=>{c&&c({login:l,name:l,path:"",primaryAvatarUrl:""})},o[1]=l,o[2]=c,o[3]=n):n=o[3],o[4]!==l?(r=(0,i.jsxs)(i.Fragment,{children:["Filter on author\xa0",(0,i.jsx)("span",{className:"text-bold",children:l})]}),o[4]=l,o[5]=r):r=o[5],o[6]!==n||o[7]!==r?(s=(0,i.jsx)(d.l.Item,{sx:t,onSelect:n,children:r}),o[6]=n,o[7]=r,o[8]=s):s=o[8],s}try{N.displayName||(N.displayName="UserSelector")}catch{}try{_.displayName||(_.displayName="UserFilter")}catch{}try{k.displayName||(k.displayName="Loading")}catch{}try{S.displayName||(S.displayName="LoadingFailed")}catch{}try{I.displayName||(I.displayName="UsersZeroState")}catch{}try{T.displayName||(T.displayName="UsersTypedInUser")}catch{}},71238:(e,t,n)=>{n.d(t,{d:()=>r});var i=n(74848),a=n(61318);function r({status:e,oid:t,repo:n,badgeProps:r={},descriptionString:s=""}){let[o,l]=(0,a.ym)(t,n);return e?(0,i.jsx)(a.B6,{disablePopover:!1,size:"small",statusRollup:e,buttonSx:{height:"18px",color:"fg.muted",p:"2px"},combinedStatus:o,descriptionText:s,onWillOpenPopup:l,...r}):null}try{r.displayName||(r.displayName="AsyncChecksStatusBadge")}catch{}},41658:(e,t,n)=>{n.d(t,{N:()=>en,$:()=>ei});var i=n(74848),a=n(96540),r=n(76235),s=n(17908),o=n(46636),l=n(47584),d=n(38621),c=n(6869),m=n(55847),u=n(12528),h=n(34164),f=n(5189),p=n(74779);let x={"commit-discussion-comments":"Comment-module__commit-discussion-comments--WaMOe","discussion-comments-rose":"Comment-module__discussion-comments-rose--v1SXb"};var g=n(16497),y=n(34407);let v=()=>(0,i.jsx)("div",{className:"d-flex gap-2",children:(0,i.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(y.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,t)=>(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"random"},t)),(0,i.jsx)(g.e,{})]})})});try{v.displayName||(v.displayName="CommentLoading")}catch{}var j=n(81874),C=n(77433),b=n(71781),w=n(31786),N=n(15819),_=n(57536),k=n(22368),S=n(79740),I=n(74493),T=n(55833),E=n(25273),L=n(31402),D=n(38568);let A=(0,a.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:n,referenceId:r,buttonText:s,commentContent:o},l)=>{let[d,c]=(0,a.useState)(!1),m=(0,a.useRef)(null),u=(0,a.useRef)(void 0),{commentBoxConfig:h,commentBoxSubject:f}=(0,S.X)(),p=(0,a.useCallback)(()=>{},[]),{markdownBody:x,resetMarkdownBody:g,markdownValidationResult:y,handleMarkdownBodyChanged:v}=(0,L.x)({commentBoxRef:m,markdownComposerRef:l,onChange:p,onCancel:()=>{},referenceId:r});(0,a.useEffect)(()=>{e&&!x&&v(e)},[e]),(0,a.useEffect)(()=>{if(o&&u.current!==o){v(o),u.current=o;let e=window.setTimeout(()=>{m.current&&(m.current?.scrollIntoView(),m.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[o]),(0,D.N)(()=>{if(m&&m.current){let e=window.setTimeout(()=>{m.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[m]);let j=async()=>{c(!0),await n(x,g),c(!1)};return(0,i.jsx)(E.h,{ref:m,validationResult:y,disabled:d,onChange:e=>{v(e)},onCancel:()=>{v(""),t?.()},onSave:j,saveButtonText:s,saveButtonTrailingIcon:!1,value:x,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,userSettings:h,subject:f})});function R({comment:e,commitOid:t,onCancel:n,onUpdate:r}){let{editComment:s}=(0,S.X)(),o=(0,a.useRef)(null),l=async t=>{let n=await s(t,e);n.updatedFields&&r({...e,...n.updatedFields})};return(0,i.jsx)(A,{commitOid:t,initialMarkdown:e.body,ref:o,onSave:l,onCancel:n,referenceId:`${t}-${e.id}`,buttonText:"Update comment"})}A.displayName="CommitCommentEditor";try{R.displayName||(R.displayName="UpdateCommitComment")}catch{}function M({comments:e,commit:t,locked:n,deleteComment:a,updateComment:r,setNewCommentContent:s}){return 0===e.length?null:(0,i.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,i.jsx)(P,{comment:e,commit:t,locked:n,deleteComment:a,updateComment:r,setNewCommentContent:s},e.id))})}function P({comment:e,commit:t,locked:n,deleteComment:r,updateComment:o,setNewCommentContent:l}){let d=(0,s.t)(),[c,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(e.isHidden),f=(0,a.useRef)(null),{deleteComment:p,hideComment:x,unhideComment:y}=(0,S.X)(),v=async()=>{let t=await p(e.id.toString());"canceled"!==t&&"error"!==t&&"success"===t&&r(e.id)},j=async t=>{let n=await x(e.id.toString(),t);"error"!==n&&"success"===n&&(o({...e,isHidden:!0,minimizedReason:t}),h(!0))},C=async()=>{let t=await y(e.id.toString());"error"!==t&&"success"===t&&(o({...e,isHidden:!1,minimizedReason:null}),h(!1))},b=t.authors.length>0?t.authors[0]?.login:"",w={...(0,I.p)(e,t,d),referenceText:(0,T.F)(t.oid)};return(0,i.jsxs)("div",{className:"border rounded-2",ref:f,id:e.urlFragment,tabIndex:-1,children:[(0,i.jsx)(F,{comment:w,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:b,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:u,editComment:()=>{m(!0)},onReplySelect:l,onMinimize:h,navigate:()=>{},hideComment:j,unhideComment:C,deleteComment:v,commentRef:f,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),u?null:c?(0,i.jsx)("div",{className:"m-2",children:(0,i.jsx)(R,{comment:e,commitOid:t.oid,onUpdate:e=>{o(e),m(!1)},onCancel:()=>m(!1)})}):(0,i.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,i.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,i.jsx)(_.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)(g.e,{}),children:(0,i.jsx)(k.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:n})})]})]})}function F({hideActions:e,...t}){let n,r;let s=t.commitComment;return t.showEditHistory&&(n=(0,i.jsx)(a.Suspense,{fallback:null,children:(0,i.jsx)(O,{id:s.relayId})}),r=(0,i.jsx)(B,{id:t.comment.id})),(0,i.jsx)(j.v,{lastEditedByMessage:r,editHistoryComponent:n,forceInlineAvatar:!0,...t,actions:e?void 0:(0,i.jsx)(C.p,{...t})})}function O({id:e}){let t=(0,N.f)({id:e});return t?(0,i.jsx)(b.W,{editHistory:t}):null}function B({id:e}){let t=(0,N.f)({id:e});return t?(0,i.jsx)(w._,{editInformation:t}):null}try{M.displayName||(M.displayName="ExistingCommitComments")}catch{}try{P.displayName||(P.displayName="ExistingCommitComment")}catch{}try{F.displayName||(F.displayName="CommitCommentHeader")}catch{}try{O.displayName||(O.displayName="CommitCommentHeaderEditHistory")}catch{}try{B.displayName||(B.displayName="CommitCommentHeaderLastEditedBy")}catch{}var $=n(5796),H=n(38359),U=n(57572),z=n(27331);function V({commitOid:e,locked:t,onClose:n}){let r=(0,s.t)(),{helpUrl:o}=(0,H.X)(),[l,d]=(0,a.useState)(!1),m=t?"Unlock":"Lock",u=async()=>{(await (0,U.DI)(`${(0,$.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!0):d(!0)},h=async()=>{(await (0,U.lS)(`${(0,$.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!1):d(!0)};return(0,i.jsxs)(z.l,{onClose:()=>n(),width:"large",title:`${m} conversation on this commit`,footerButtons:[{content:`${m} conversation`,buttonType:"danger",sx:{width:"100%"},onClick:t?h:u}],children:[l&&(0,i.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",m.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,i.jsxs)("p",{children:[m,"ing the conversation means:"]}),(0,i.jsx)("ul",{className:"ml-4",children:t?(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{children:["Other users ",(0,i.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),r.isOrgOwned?(0,i.jsxs)("li",{children:["You and other members of teams with\xa0",(0,i.jsx)("a",{href:`${o}/articles/what-are-the-different-access-permissions`,children:"write access"}),"\xa0 to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,i.jsxs)("li",{children:["You and other collaborators\xa0",(0,i.jsx)("a",{href:"<%= GitHub.help_url %>/articles/what-are-the-different-access-permissions",children:"with access"}),"\xa0to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,i.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",t?"lock":"unlock"," this commit again in the future."]})]})}try{V.displayName||(V.displayName="LockConversationDialog")}catch{}var W=n(56176),G=n(38506),Q=n(68310),X=n(88771),q=n(52655),K=n(62456);function Y({commitOid:e,onAddComment:t,onExpandCommentEditor:n,newCommentContent:r,canComment:s,locked:o,repoArchived:c,avatarURL:m}){let u=(0,W.M3)(),{addComment:h}=(0,S.X)(),f=(0,a.useRef)(null),p=async(e,n)=>{let i=await h(e);i.comment&&(t(i.comment),n())},x=(0,Q.i)(c,o,u?void 0:(0,i.jsx)(J,{redirectUrl:l.fV?.href}),"commit");return(0,i.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:s?(0,i.jsx)(Z,{commitOid:e,commentEditor:f,onExpandEditor:n,onSave:p,newCommentContent:r,avatarURL:m||q.t.ghostUser.avatarUrl}):(0,i.jsx)(G.P,{icon:d.LockIcon,reason:x})})}function Z(e){let[t,n]=(0,a.useState)(()=>void 0!==e.newCommentContent),[s,o]=(0,a.useState)(e.newCommentContent);t||void 0===e.newCommentContent||s===e.newCommentContent||(n(!0),o(e.newCommentContent));let l="Comment";return t?(0,i.jsx)("div",{id:r.Bq.issueCommentComposer,children:(0,i.jsx)(A,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,initialMarkdown:e.newCommentContent,buttonText:l,onCancel:()=>{n(!1)}})}):(0,i.jsxs)("div",{id:r.Bq.issueCommentComposer,className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,i.jsx)(K.r,{src:e.avatarURL,size:20}),(0,i.jsx)(X.z,{onClick:()=>{n(!0),e.onExpandEditor?.()},children:l})]})}function J({redirectUrl:e}){return(0,i.jsxs)("span",{children:["Please ",(0,i.jsx)("a",{href:e?`/login?return_to=${e}`:"/login",children:"sign in"})," to comment."]})}try{Y.displayName||(Y.displayName="NewCommitComment")}catch{}try{Z.displayName||(Z.displayName="CompactEditor")}catch{}try{J.displayName||(J.displayName="LoggedOutMessage")}catch{}var ee=n(58206);let et=(0,a.forwardRef)(({commitOid:e,subscribed:t},n)=>{let r;let[o,l]=(0,a.useState)(t),[c,u]=(0,a.useState)(!1),h=(0,s.t)(),f=(0,ee.H)("/notifications/thread","post");r=c?`You're now ${o?"subscribed":"unsubscribed"} to this thread.`:o?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let p=async()=>{let t=new FormData;t.append("repository_id",h.id.toString()),t.append("thread_id",e),t.append("thread_class","Commit"),t.append("id",o?"unsubscribe":"subscribe"),t.append("authenticity_token",f??""),(await (0,U.DI)("/notifications/thread",{method:"POST",body:t})).ok&&(l(!o),u(!0))};return(0,i.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:n,children:[(0,i.jsx)(m.Q,{onClick:p,size:"small",leadingVisual:o?d.BellSlashIcon:d.BellIcon,children:o?"Unsubscribe":"Subscribe"}),(0,i.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:r})]})});et.displayName="NotificationsFooter";let en="comments";function ei(e){return(0,i.jsx)("div",{className:(0,h.$)("d-flex flex-column gap-2 pt-3",r.mU.commentsContainer,x["commit-discussion-comments"]),id:en,children:(0,a.createElement)(ea,{...e,key:e.commit.oid})})}function ea({commit:e,commentInfo:t}){let n=(0,s.t)(),r=(0,o.i)(),{retry:d,loadMore:u,canLoadMore:h,addComment:g,deleteComment:y,updateComment:j,count:C,comments:b,subscribed:w,providerState:N}=(0,f.y)(),[_,k]=(0,a.useState)(void 0),[S,I]=(0,a.useState)(t.locked),T=(0,a.useMemo)(()=>(0,p.N)(e.oid,n.id),[e.oid,n.id]),E=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(l.cg?.location.hash){let e=l.cg.location.hash.slice(1);if(b.find(t=>t.urlFragment===e)){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[b]);let L=(0,a.useCallback)(()=>{setTimeout(()=>E.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(er,{commitOid:e.oid,commentCount:C,canLock:t.canLock,locked:S,setLocked:I}),"loading"===N&&(0,i.jsx)(v,{}),"error"===N&&(0,i.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,i.jsx)("span",{children:"Failed to load comments."}),(0,i.jsx)(m.Q,{onClick:()=>d(),children:"Retry"})]}),"loaded"===N&&h&&(0,i.jsx)(m.Q,{className:"width-full",onClick:()=>u(),children:"Load more comments"}),(0,i.jsx)(M,{comments:b,commit:e,locked:S,deleteComment:y,updateComment:j,setNewCommentContent:k}),T?(0,i.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,t)=>(0,i.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:x["discussion-comments-rose"]},`rose-${t}`))}):null,"loaded"===N||0!==b.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y,{commitOid:e.oid,onAddComment:g,onExpandCommentEditor:L,newCommentContent:_,canComment:t.canComment,locked:S,repoArchived:t.repoArchived,avatarURL:r?.avatarURL}),r?(0,i.jsx)(et,{ref:E,commitOid:e.oid,subscribed:w??!1}):null]}):null]})}function er({commitOid:e,commentCount:t,locked:n,setLocked:r,canLock:s}){let[o,l]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,i.jsxs)("h2",{className:"sr-only",children:[t," commit comments"]}),(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==t&&(0,i.jsx)(u.A,{children:t})]}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.Q,{leadingVisual:n?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>l(!0),children:[n?"Unlock":"Lock"," conversation"]}),o&&(0,i.jsx)(V,{commitOid:e,locked:n,onClose:e=>{l(!1),void 0!==e&&r(e)}})]})]})}try{ei.displayName||(ei.displayName="DiscussionComments")}catch{}try{ea.displayName||(ea.displayName="DiscussionCommentsInternal")}catch{}try{er.displayName||(er.displayName="DiscussionCommentsHeader")}catch{}},67984:(e,t,n)=>{n.d(t,{j:()=>d});var i=n(74848),a=n(58423),r=n(34407),s=n(94232),o=n(89169),l=n(82169);function d({commit:e,repo:t,children:n,settings:d,textVariant:c}){let m=(0,l.NO)(e.oid),[u]=(0,s.I)(()=>!1,!0,[]);return(0,i.jsxs)(a.j,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:m?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!u&&(0,i.jsx)(o.A,{className:"pl-1",datetime:e.committedDate}),u&&(0,i.jsx)(r.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),n]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}},34214:(e,t,n)=>{n.d(t,{s:()=>u});var i=n(74848),a=n(38621),r=n(93597),s=n(84217),o=n(30729);let l={none:{},bottom:{pb:0},top:{pt:0}},d=()=>(0,i.jsx)(o.A,{icon:a.GitCommitIcon});function c({children:e,leadingVisual:t,clipTimeline:n="none",sx:a}){let s=l[n];return(0,i.jsxs)(r.A.Item,{sx:{py:1,...s,...a},children:[(0,i.jsx)(r.A.Badge,{sx:{backgroundColor:"canvas.default"},children:t??(0,i.jsx)(d,{})}),(0,i.jsx)(r.A.Body,{className:"mt-0",children:e})]})}function m({title:e,as:t,...n}){return(0,i.jsx)(s.A,{as:t,className:"text-normal f5 py-1",...n,children:e})}let u=Object.assign(c,{Heading:m});try{d.displayName||(d.displayName="DefaultLeadingVisual")}catch{}try{c.displayName||(c.displayName="TimelineRowComponent")}catch{}try{m.displayName||(m.displayName="TimelineRowHeading")}catch{}try{u.displayName||(u.displayName="TimelineRow")}catch{}},11977:(e,t,n)=>{n.d(t,{w:()=>l});var i=n(74848),a=n(26514),r=n(70404),s=n(13348),o=n(55833);function l({sha:e,direction:t="s"}){let{sendAnalyticsEvent:n}=(0,r.s)(),{loggingPrefix:l,loggingPayload:d}=(0,s.xe)(),c=(0,s.eX)();return(0,i.jsx)("div",{onClick:()=>{c&&n(`${l}click`,"COPY_SHA_CLICKED",d)},children:(0,i.jsx)(a.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,o.F)(e)}`,tooltipProps:{direction:t},size:"small"})})}try{l.displayName||(l.displayName="CopySHA")}catch{}},37356:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(74848),a=n(34164);function r({children:e,className:t=""}){return(0,i.jsx)("div",{className:(0,a.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",t),children:e})}try{r.displayName||(r.displayName="Panel")}catch{}},13348:(e,t,n)=>{n.d(t,{eX:()=>o,xe:()=>l,zq:()=>s});var i=n(74848),a=n(96540);let r=(0,a.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function s({children:e,loggingInfo:t}){return(0,i.jsx)(r.Provider,{value:t,children:e})}function o(){let e=(0,a.useContext)(r);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function l(){return(0,a.useContext)(r)}try{r.displayName||(r.displayName="CommitsLoggingContext")}catch{}try{s.displayName||(s.displayName="CommitsLoggingInfoProvider")}catch{}},82169:(e,t,n)=>{n.d(t,{M2:()=>l,NO:()=>d,UI:()=>r,Xx:()=>s,ej:()=>m,xs:()=>c});var i=n(74848),a=n(96540);let r={deferredCommits:[],renameHistory:null,loading:!0},s={deferredCommits:[],renameHistory:null,loading:!1},o=(0,a.createContext)(r);function l({children:e,deferredData:t}){return(0,i.jsx)(o.Provider,{value:t,children:e})}function d(e){let t=(0,a.useContext)(o),n=t.error,i=t.deferredCommits?.find(t=>t?.oid===e);return n&&void 0===i&&(i={oid:e,statusCheckStatus:void 0}),i}function c(){return(0,a.useContext)(o).loading}function m(){return(0,a.useContext)(o).renameHistory}try{o.displayName||(o.displayName="DeferredCommitDataContext")}catch{}try{l.displayName||(l.displayName="DeferredCommitDataProvider")}catch{}},5189:(e,t,n)=>{n.d(t,{c:()=>c,y:()=>m});var i,a=n(74848),r=n(73218),s=n(5796),o=n(57572),l=n(96540);let d=(0,l.createContext)({comments:[],addComment:r.l,deleteComment:r.l,updateComment:r.l,loadMore:r.l,retry:r.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:t=[],commentCount:n=0,canLoadMore:i=!1,subscribed:r=!1,providerState:c="initial",repo:m,commitOid:u}){let[h,f]=(0,l.useState)(t),[p,x]=(0,l.useState)(n),[g,y]=(0,l.useState)(i),[v,j]=(0,l.useState)(c),[C,b]=(0,l.useState)(r);(0,l.useEffect)(()=>{x(n),f(t),y(i),b(r),j(c)},[c]);let w=(0,l.useCallback)(async e=>{j("loading");let t=await (0,o.Sr)((0,s.Mo3)({owner:m.ownerLogin,repo:m.name,commitOid:u,beforeCommentId:e}));if(t.ok){let n=await t.json();e?f(e=>[...n.comments,...e]):f(n.comments),j("loaded"),x(n.count),b(n.subscribed),y(n.canLoadMore)}else j("error")},[m.ownerLogin,m.name,u]),N=(0,l.useCallback)(()=>{let e=h[0];e&&g&&w(e.id.toString())},[g,h,w]),_=(0,l.useCallback)(e=>{f([...h,e]),x((p??0)+1)},[h,p]),k=(0,l.useCallback)(e=>{f(h.filter(t=>t.id!==e)),x((p??0)-1)},[h,p]),S=(0,l.useCallback)(e=>{f(h.map(t=>t.id===e.id?e:t))},[h]),I=(0,l.useMemo)(()=>({addComment:_,canLoadMore:g,comments:h,count:p,deleteComment:k,loadMore:N,retry:w,subscribed:C,providerState:v,updateComment:S}),[_,g,h,p,k,w,N,v,C,S]);return(0,a.jsx)(d.Provider,{value:I,children:e})}function m(){let e=(0,l.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(i=DiscussionComments).displayName||(i.displayName="DiscussionComments")}catch{}},43732:(e,t,n)=>{n.d(t,{B:()=>c,r:()=>d});var i=n(74848),a=n(73218),r=n(96540);let s=(0,r.createContext)({comments:[],addComments:a.l,findInlineComment:()=>void 0,findInlineCommentWithRelay:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,updateInlineCommentMapWithNewComment:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function o(e){return e.reduce((e,t)=>(e.set(`${t.path}::${t.position}`,t),e),new Map)}function l(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let i=new Map;for(let t in e[n])e[n].hasOwnProperty(t)&&i.set(Number(t),e[n][Number(t)]);t.set(n,i)}return t}function d({children:e,initialFiles:t,initialExpandedThreadId:n,initialInlineComments:a}){let[d,c]=(0,r.useState)(()=>a?Object.values(a).flatMap(e=>Array.from(Object.values(e).flat())):[]),[m,u]=(0,r.useState)(t??[]),[h,f]=(0,r.useState)(()=>t?o(t):new Map),[p,x]=(0,r.useState)(()=>a?l(a):new Map),g=(0,r.useCallback)((e,t,n,i)=>{if(i){let i=p.get(e)?.get(t)??[];i=i.concat(n);let a=p.get(e)?.set(t,i);x(p.set(e,a??new Map)??p)}else{let i=p.get(e)?.set(t,n);x(p.set(e,i??new Map)??p)}},[p]);(0,r.useEffect)(()=>{u(t??[]),f(t?o(t):new Map),x(a?l(a):new Map),c(a?Object.values(a).flatMap(e=>Array.from(Object.values(e).flat())):[])},[t,a]);let y=(0,r.useCallback)((e,t,n)=>{let i=e.map(e=>e.id),a=d.filter(e=>!i.includes(e.id)),r=m.filter(e=>e.path!==t||e.position!==parseInt(n)),s={path:t,position:parseInt(n),count:e.length,threads:[{id:`${t}::${n}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...a,...e]),u([...r,s]),f(o([...r,s])),g(t,parseInt(n),e,!1)},[m,d,g]),v=(0,r.useCallback)(e=>{if(e)return d.find(t=>t.id===e)},[d]),j=(0,r.useCallback)(e=>d.find(t=>t.relayId===e),[d]),C=(0,r.useCallback)(e=>{let t=0;for(let n of m)n.path===e&&(t+=n.count);return t},[m]),b=(0,r.useCallback)((e,t)=>h.get(`${e}::${t}`),[h]),w=(0,r.useCallback)((e,t)=>p.get(e)?.get(t),[p]),N=(0,r.useMemo)(()=>({comments:d,addComments:y,findInlineComment:v,findInlineCommentWithRelay:j,getCommentCountByPath:C,getThreadDataByPathAndPosition:b,getInlineCommentInfoByPathAndPosition:w,updateInlineCommentMapWithNewComment:g,initialExpandedThreadId:n}),[y,d,v,j,C,b,w,g,n]);return(0,i.jsx)(s.Provider,{value:N,children:e})}function c(){let e=(0,r.useContext)(s);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{s.displayName||(s.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},44639:(e,t,n)=>{n.d(t,{f:()=>ee});var i=n(74848),a=n(91752),r=n(47584),s=n(11499),o=n(46928),l=n(93597),d=n(96540),c=n(4602),m=n(37356);let u={panel:"CommitGroup-module__panel--tvFMx"};var h=n(13080),f=n(61318),p=n(17003),x=n(82091),g=n(30448),y=n(79910),v=n(56495),j=n(44968),C=n(70404),b=n(94232),w=n(13348),N=n(82169),_=n(67984),k=n(5796),S=n(17774),I=n(38621),T=n(55847),E=n(87330),L=n(94977),D=n(42522),A=n(55833),R=n(41658);let M=d.memo(P);function P({repo:e,oid:t}){let n=`browse-repo-${(0,A.F)(t)}`,{sendAnalyticsEvent:a}=(0,C.s)(),{loggingPrefix:r,loggingPayload:s}=(0,w.xe)(),o=(0,w.eX)();return(0,i.jsx)(L.A,{"aria-label":"Browse repository at this point",id:n,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":n,href:(0,k.IO9)({repo:e,action:"tree",commitish:t}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{o&&a(`${r}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",s)},children:(0,i.jsx)(I.CodeIcon,{})})})}let F=d.memo(O);function O({repo:e,oid:t,path:n}){if(!n)return null;let a=`view-code-${(0,A.F)(t)}`;return(0,i.jsx)(L.A,{"aria-label":"View code at this point",id:a,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":a,href:(0,k.nD_)({owner:e.ownerLogin,repo:e.name,commitish:t,filePath:n}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,i.jsx)(I.FileCodeIcon,{})})})}function B({commitUrl:e,oid:t,softNavToCommit:n}){let a={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,i.jsx)(L.A,{"aria-label":"View commit details",direction:"s",children:n?(0,i.jsx)(T.Q,{as:S.N,to:e,...a,children:(0,A.F)(t)}):(0,i.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...a,children:(0,i.jsx)("span",{className:"Button-content",children:(0,i.jsx)("span",{className:"Button-label color-fg-muted",children:(0,A.F)(t)})})})})}function $({showDescription:e,setShowDescription:t,oid:n}){let a=(0,A.F)(n),r=`show-description-${a}`,s=`${e?"Hide":"Show"} description for ${a}`;return(0,i.jsx)(D.m,{id:r,text:s,"aria-label":s,children:(0,i.jsx)(E.K,{icon:I.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":r,"aria-pressed":e,"aria-expanded":e,onClick:n=>{n.preventDefault(),t(!e)}})})}function H({count:e,repo:t,oid:n}){if(!e)return null;let a=`comment-count-${(0,A.F)(n)}`;return(0,i.jsx)(L.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:a,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":a,href:`${(0,k.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:n})}#${R.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,i.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,i.jsx)(I.CommentIcon,{}),(0,i.jsx)("span",{className:"Button-label",children:e})]})})})}try{M.displayName||(M.displayName="BrowseRepositoryAtThisPoint")}catch{}try{P.displayName||(P.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{F.displayName||(F.displayName="ViewCodeAtThisPoint")}catch{}try{O.displayName||(O.displayName="WrappedViewCodeAtThisPoint")}catch{}try{B.displayName||(B.displayName="ViewCommitDetails")}catch{}try{$.displayName||($.displayName="ToggleCommitDescription")}catch{}try{H.displayName||(H.displayName="CommitCommentCount")}catch{}var U=n(32813),z=n(34407),V=n(9916),W=n(71238);function G({deferredData:e}){let{helpUrl:t}=(0,V.D)(),n=(0,N.xs)();return(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(z.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&void 0===e&&(0,i.jsx)(z.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&e&&(0,i.jsx)(U.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:t,...e.signatureInformation}:void 0})]})}function Q({deferredData:e,oid:t,repository:n}){let a=(0,N.xs)(),r="";try{r=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(z.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!a&&void 0===e&&(0,i.jsx)(z.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!a&&e?.statusCheckStatus&&(0,i.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,i.jsx)("div",{className:"d-none d-sm-flex",children:(0,i.jsx)(W.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:r,repo:n})})]})}try{G.displayName||(G.displayName="SignedCommitBadge")}catch{}try{Q.displayName||(Q.displayName="CommitChecksStatusBadge")}catch{}var X=n(11977);let q={ListItemTitle_0:"CommitRow-module__ListItemTitle_0--g9uVv",ListItem_0:"CommitRow-module__ListItem_0--PkFAi",ListItemMetadata_0:"CommitRow-module__ListItemMetadata_0--MUr_4"},K=(0,d.lazy)(()=>n.e("ui_packages_commits_components_Commits_CommitActionBar_tsx").then(n.bind(n,62919)).then(e=>({default:e.CommitActionBar})));function Y({commit:e,repo:t,path:n,softNavToCommit:a}){let[r,s]=(0,d.useState)(!1),o=(0,d.useRef)(null),[l,c]=(0,f.ym)(e.oid,t),[m,u]=(0,d.useState)(!1),k=(0,N.NO)(e.oid),[S]=(0,b.I)(()=>!1,!0,[]),{sendAnalyticsEvent:I}=(0,C.s)(),{loggingPrefix:T,loggingPayload:E}=(0,w.xe)(),L=(0,w.eX)(),D=()=>{L&&I(`${T}click`,"COMMITS_TITLE_CLICKED",E)};return(0,d.useEffect)(()=>{r&&o.current&&o.current.textContent&&(0,h.i)(o.current.textContent)},[o,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:e.shortMessageMarkdownLink&&!S?(0,i.jsx)(v.kx,{html:e.shortMessageMarkdownLink,onClick:D,containerClassName:q.ListItemTitle_0,headingClassName:q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,i.jsx)($,{showDescription:r,setShowDescription:s,oid:e.oid})}):(0,i.jsx)(v.ao,{value:e.shortMessage,href:e.url,onClick:D,containerClassName:q.ListItemTitle_0,headingClassName:q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,i.jsx)($,{showDescription:r,setShowDescription:s,oid:e.oid})}),metadata:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.V,{children:(0,i.jsx)(H,{oid:e.oid,repo:t,count:k?.commentCount??0})}),(0,i.jsx)(y.V,{className:q.ListItemMetadata_0,children:(0,i.jsx)(G,{deferredData:k})}),(0,i.jsxs)(y.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)(B,{oid:e.oid,commitUrl:e.url,softNavToCommit:a}),(0,i.jsx)(X.w,{sha:e.oid})]}),(0,i.jsx)(F,{repo:t,oid:e.oid,path:n}),(0,i.jsx)(M,{repo:t,oid:e.oid})]})]}),secondaryActions:(0,i.jsx)(d.Suspense,{children:(0,i.jsx)(K,{commit:e,repo:t,path:n,setDialogOpen:u,fetchCheckDetails:c,deferredData:k})}),className:q.ListItem_0,children:[(0,i.jsx)("div",{className:"px-1"}),(0,i.jsxs)(g.Q,{children:[r&&e.bodyMessageHtml&&(0,i.jsx)(x.U,{children:(0,i.jsx)(j.yx,{ref:o,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,i.jsx)(x.U,{children:(0,i.jsx)(_.j,{commit:e,repo:t,children:(0,i.jsx)(Q,{repository:t,deferredData:k,oid:e.oid})})})]})]}),k?.statusCheckStatus&&m&&(0,i.jsx)(f.xC,{combinedStatus:l,isOpen:m,onDismiss:()=>{u(!1)}})]})}try{K.displayName||(K.displayName="CommitActionBar")}catch{}try{Y.displayName||(Y.displayName="CommitRow")}catch{}var Z=n(34214);function J({commits:e,title:t,shouldClipTimeline:n,repo:a,currentBlobPath:r="",softNavToCommit:s}){let o=(0,d.useId)();return(0,i.jsxs)(Z.s,{clipTimeline:n?"top":"none",children:[(0,i.jsx)(Z.s.Heading,{as:"h3",id:o,title:`Commits on ${t}`,"data-testid":"commit-group-title"}),(0,i.jsx)(m.Z,{className:u.panel,children:(0,i.jsx)(c.u,{title:t,titleHeaderTag:"h3",ariaLabelledBy:o,children:e.map(e=>(0,i.jsx)(Y,{commit:e,repo:a,path:r,softNavToCommit:s},e.oid))},t)})]})}try{J.displayName||(J.displayName="CommitGroup")}catch{}function ee({leadingContent:e,commitGroups:t,trailingContent:n,deferredCommitData:c=N.Xx,repository:m,currentBlobPath:u,loggingPayload:h,loggingPrefix:f,shouldClipTimeline:p=!0,softNavToCommit:x=!1}){let g=(0,d.useRef)(0),y=(0,d.useRef)(null),v=(0,d.useRef)(null),j=(0,d.useRef)(!1),C=(0,d.useRef)([]),b=(0,o.Z)(),_=e=>{"commit-diff-view:tab-forward"===e.commandId&&(y.current=v.current,v.current=r.XC?.activeElement??null,j.current=!1),"commit-diff-view:tab-backward"===e.commandId&&r.XC?.activeElement?.hasAttribute("data-commit-link")&&!j.current&&y.current&&(y.current.focus(),v.current=y.current),"commit-diff-view:tab-backward"===e.commandId&&(j.current=!0)},k=e=>{if(!(0,a.zw)()&&("commit-diff-view:go-down-commit"===e.commandId||"commit-diff-view:go-up-commit"===e.commandId))return;let t=1;for(let e=0;e<C.current.length;e++)C.current[e]?.contains(r.XC?.activeElement)&&(t=e+1);let n=!1;if(("commit-diff-view:go-up-commit"===e.commandId||"commit-diff-view:go-up-commit-arrow"===e.commandId)&&(n=!0),g.current!==t)g.current=t;else{let e=C.current[n?t-2:t];e?.focus(),e?.focus(),g.current=n?t-1:t+1}};return(0,d.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelectorAll('[id*="-list-view-node-"]');C.current=Array.from(e)},0);return()=>clearTimeout(e)},[t]),(0,i.jsx)(N.M2,{deferredData:c,children:(0,i.jsx)(w.zq,{loggingInfo:{loggingPayload:h,loggingPrefix:f},children:(0,i.jsxs)(l.A,{clipSidebar:!0,onKeyDown:e=>{if("Enter"===e.key){let t=r.XC?.activeElement?.hasAttribute("data-commit-link")?r.XC?.activeElement?.getAttribute("data-commit-link"):void 0;t&&(e.ctrlKey||e.metaKey?r.cg?.open(t,"_blank"):b(t))}},children:[e,(0,i.jsx)(s.tL,{commands:{"commit-diff-view:go-down-commit-arrow":k,"commit-diff-view:go-down-commit":k,"commit-diff-view:go-up-commit-arrow":k,"commit-diff-view:go-up-commit":k,"commit-diff-view:tab-forward":_,"commit-diff-view:tab-backward":_},triggerOnDefaultPrevented:!0,children:t.map((e,t)=>(0,i.jsx)(J,{title:e.title,commits:e.commits,shouldClipTimeline:p&&0===t,currentBlobPath:u,repo:m,softNavToCommit:x},e.title))}),n]})})})}try{ee.displayName||(ee.displayName="Commits")}catch{}},47938:(e,t,n)=>{n.d(t,{M:()=>m});var i=n(74848),a=n(76797),r=n(73218),s=n(38621),o=n(9591),l=n(68593),d=n(37356);let c={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,i.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,i.jsx)(s.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function m({timeoutMessage:e,unavailableMessage:t}){let n=c[""!==e?"timeout":"unavailable"],m=t??n.description;return(0,i.jsx)(d.Z,{children:(0,i.jsx)("div",{"data-hpc":!0,children:(0,i.jsxs)(l.A,{border:!1,spacious:!0,children:[(0,i.jsx)(l.A.Visual,{children:n.icon}),(0,i.jsx)(l.A.Heading,{children:n.heading}),(0,i.jsx)(l.A.Description,{children:m}),n.showTextInput&&(0,i.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:r.l,readOnly:!0,size:"large",trailingAction:(0,i.jsx)(o.A.Action,{onClick:()=>(0,a.D)(e),icon:s.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{m.displayName||(m.displayName="CommitsBlankState")}catch{}},62456:(e,t,n)=>{n.d(t,{r:()=>o});var i=n(74848),a=n(47584),r=n(47258),s=n(96540);let o=(0,s.forwardRef)(function({src:e,size:t=20,...n},o){let l=(0,s.useMemo)(()=>{let n=new URL(e,a.fV.origin);return n.searchParams.has("size")||n.searchParams.has("s")||n.searchParams.set("size",String(2*Number(t))),n.toString()},[e,t]);return(0,i.jsx)(r.A,{ref:o,src:l,size:t,"data-testid":"github-avatar",...n})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},44968:(e,t,n)=>{n.d(t,{mo:()=>h,oG:()=>c,yx:()=>m});var i,a=n(74848),r=n(75177),s=n(52464),o=n(99418),l=n(96540);function d(e){if("html"in e&&void 0!==e.html){let{html:t,...n}=e;return{safeHTML:t,props:n}}let{unverifiedHTML:t,unverifiedHTMLConfig:n,...i}=e,a={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:o.default.sanitize(t,a),props:i}}let c=u(r.A);c.displayName="SafeHTMLBox";let m=u(s.A);function u(e){return(0,l.forwardRef)((t,n)=>{let{safeHTML:i,props:r}=d(t);return(0,a.jsx)(e,{ref:n,...r,dangerouslySetInnerHTML:i?{__html:i}:void 0})})}m.displayName="SafeHTMLText";let h=(0,l.forwardRef)((e,t)=>{let{safeHTML:n,props:i}=d(e);return(0,a.jsx)("div",{ref:t,...i,dangerouslySetInnerHTML:n?{__html:n}:void 0})});h.displayName="SafeHTMLDiv";try{(i=SafeHTMLComponent).displayName||(i.displayName="SafeHTMLComponent")}catch{}},34407:(e,t,n)=>{n.d(t,{O:()=>m});var i=n(75177),a=n(59299),r=n(44999),s=n(38267);let o=(0,s.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),l=(0,s.AH)(["animation:"," 1.5s infinite linear;"],o),d=(0,s.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),c=(0,s.AH)(["animation:"," 2s infinite linear;"],d),m=(0,s.Ay)(i.A).withConfig({displayName:"LoadingSkeleton",componentId:"sc-bcbf24f9-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&c,({animationStyle:e})=>"pulse"!==e&&l,(0,a.Jt)("colors.neutral.subtle"),(0,a.Jt)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,a.Jt)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},r.A);try{m.displayName||(m.displayName="LoadingSkeleton")}catch{}},61388:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(36158),a=n(26261),r=n(66500),s=n(24880),o=class extends r.Q{#e;#t=void 0;#n;#i;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.EN)(t.mutationKey)!==(0,s.EN)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#r()}mutate(e,t){return this.#i=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){let e=this.#n?.state??(0,i.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){a.jG.batch(()=>{if(this.#i&&this.hasListeners()){let t=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#i.onSuccess?.(e.data,t,n),this.#i.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#i.onError?.(e.error,t,n),this.#i.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(e=>{e(this.#t)})})}}},31993:(e,t,n)=>{n.d(t,{j:()=>i});function i(e){return e}},94747:(e,t,n)=>{n.d(t,{n:()=>l});var i=n(96540),a=n(61388),r=n(26261),s=n(97665),o=n(54362);function l(e,t){let n=(0,s.jE)(t),[l]=i.useState(()=>new a._(n,e));i.useEffect(()=>{l.setOptions(e)},[l,e]);let d=i.useSyncExternalStore(i.useCallback(e=>l.subscribe(r.jG.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c=i.useCallback((e,t)=>{l.mutate(e,t).catch(o.l)},[l]);if(d.error&&(0,o.G)(l.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:c,mutateAsync:d.mutate}}},97286:(e,t,n)=>{n.d(t,{I:()=>r});var i=n(1651),a=n(15985);function r(e,t){return(0,a.t)(e,i.$,t)}},6907:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(2642),a=n(50622);function r(e,t){let n=(0,i.a)(e);if(isNaN(n.getTime()))throw RangeError("Invalid time value");let r=t?.format??"extended",s=t?.representation??"complete",o="",l="",d="extended"===r?"-":"";if("time"!==s){let e=(0,a.F)(n.getDate(),2),t=(0,a.F)(n.getMonth()+1,2),i=(0,a.F)(n.getFullYear(),4);o=`${i}${d}${t}${d}${e}`}if("date"!==s){let e=n.getTimezoneOffset();if(0!==e){let t=Math.abs(e),n=(0,a.F)(Math.trunc(t/60),2),i=(0,a.F)(t%60,2);l=`${e<0?"+":"-"}${n}:${i}`}else l="Z";let t=(0,a.F)(n.getHours(),2),i=(0,a.F)(n.getMinutes(),2),s=(0,a.F)(n.getSeconds(),2),d=""===o?"":"T",c=[t,i,s].join("extended"===r?":":"");o=`${o}${d}${c}${l}`}return o}},85692:(e,t,n)=>{n.d(t,{Wx:()=>d});var i=n(96540),a=Object.defineProperty,r=new Map,s=new WeakMap,o=0,l=void 0;function d({threshold:e,delay:t,trackVisibility:n,rootMargin:a,root:c,triggerOnce:m,skip:u,initialInView:h,fallbackInView:f,onChange:p}={}){var x;let[g,y]=i.useState(null),v=i.useRef(p),[j,C]=i.useState({inView:!!h,entry:void 0});v.current=p,i.useEffect(()=>{let i;if(!u&&g)return i=function(e,t,n={},i=l){if(void 0===window.IntersectionObserver&&void 0!==i){let a=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}let{id:a,observer:d,elements:c}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var n;return`${t}_${"root"===t?(n=e.root)?(s.has(n)||(o+=1,s.set(n,o.toString())),s.get(n)):"0":e[t]}`}).toString(),n=r.get(t);if(!n){let i;let a=new Map,s=new IntersectionObserver(t=>{t.forEach(t=>{var n;let r=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(n=a.get(t.target))||n.forEach(e=>{e(r,t)})})},e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:a},r.set(t,n)}return n}(n),m=c.get(e)||[];return c.has(e)||c.set(e,m),m.push(t),d.observe(e),function(){m.splice(m.indexOf(t),1),0===m.length&&(c.delete(e),d.unobserve(e)),0===c.size&&(d.disconnect(),r.delete(a))}}(g,(e,t)=>{C({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&m&&i&&(i(),i=void 0)},{root:c,rootMargin:a,threshold:e,trackVisibility:n,delay:t},f),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,g,c,a,m,u,n,f,t]);let b=null==(x=j.entry)?void 0:x.target,w=i.useRef(void 0);g||!b||m||u||w.current===b||(w.current=b,C({inView:!!h,entry:void 0}));let N=[y,j.inView,j.entry];return N.ref=N[0],N.inView=N[1],N.entry=N[2],N}i.Component}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-b1c483","vendors-node_modules_github_catalyst_lib_index_js-node_modules_primer_live-region-element_dis-b2aea6","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_lodash-es__isIterateeCa-89abd9","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_lodash-es_isEqual_js","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-72228e","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_react-relay_index_js","vendors-node_modules_tanstack_react-virtual_dist_esm_index_js-node_modules_react-virtual_dist-19a6be","vendors-node_modules_fzy_js_index_js-node_modules_github_paste-markdown_dist_index_js","vendors-node_modules_react-relay_hooks_js-node_modules_github_combobox-nav_dist_index_js-node-1f33c6","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_g-emoji-element-e45239","ui_packages_failbot_failbot_ts","ui_packages_document-metadata_document-metadata_ts-ui_packages_history_history_ts-ui_packages-417c81","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_date-picker_ts","ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts","ui_packages_list-view_src_hooks_use-next-header-tag_ts-ui_packages_verified-fetch_verified-fe-1f4c4d","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_relay-environment_relay-environment_ts-ui_packages_use-named-color_use-named-colo-bdf255","ui_packages_commenting_constants_values_ts-ui_packages_commenting_components_ActivityHeader_t-f9065d","ui_packages_app-uuid_app-uuid_ts-ui_packages_signed-commit-badge_index_ts-ui_packages_use-nav-07c073","ui_packages_commenting_hooks_use-markdown-body_ts-ui_packages_commenting_utils_blocked-commen-338167","ui_packages_conversations_conversations_ts-ui_packages_copy-to-clipboard_CopyToClipboardButton_tsx","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-762eaa","ui_packages_diff-lines_diff-lines_ts-ui_packages_diff-lines_hooks_use-selected-diff-hash_ts-u-62bb97"],()=>t(11070)),e.O()}]);
//# sourceMappingURL=commits-8939049d08d8.js.map